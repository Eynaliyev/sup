{"version":3,"sources":["../../src/pages/pages.ts","../../src/services/services.ts","../../src/services/user.service.ts","../../src/pages/prelaunch/prelaunch.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/services/firestore.service.ts","../../src/pages/contacts-list/contacts-list.ts","../../src/pages/meet-somebody/meet-somebody.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/shared/util.service.ts","../../src/app/app.component.ts","../../src/pages/chatroom/chatroom.ts","../../node_modules/moment/locale ^/.*$","../../src/services/chatroom.service.ts","../../src/services/vip.service.ts","../../src/services/notification.service.ts","../../src/services/request.service.ts","../../src/services/contact.service.ts","../../src/services/alert.service.ts","../../src/services/auth.service.ts","../../src/pages/filter/filter.ts","../../src/pages/login/login.ts","../../src/services/languages-list.ts","../../src/pages/my-profile/my-profile.ts","../../src/pages/purchase/purchase.ts","../../src/pages/settings/settings.ts","../../src/pages/user-profile/user-profile.ts","../../src/pages/vip/vip.ts","../../src/components/components.ts","../../src/pages/waitlist/waitlist.ts","../../src/pages/participants-list/participants-list.ts","../../src/pages/notifications-list/notifications-list.ts","../../src/pages/requests-list/requests-list.ts","../../src/components/back-button/back-button.ts","../../src/components/chat-bubble/chat-bubble.ts","../../src/components/gallery/gallery.ts","../../src/components/menu-button/menu-button.ts","../../src/components/profile-posts/profile-posts.ts","../../src/components/profile-timeline/profile-timeline.ts","../../src/models/models.ts","../../src/models/chatroom.model.ts","../../src/models/user.model.ts","../../src/models/message.model.ts","../../src/models/notification.model.ts","../../src/models/request.model.ts","../../src/shared/default-image.directive.ts","../../src/shared/pipe.module.ts","../../src/shared/calculate-distance.pipe.ts","../../src/shared/age.pipe.ts","../../src/environment/environment.ts"],"names":[],"mappings":"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,CAAC,OAAO,CAAC,aAAG,IAAI,eAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAhC,CAAgC,CAAC,CAAC;QAC1D,MAAM,CAAC,QAAQ,CAAC;IACjB,CAAC;IAzKD;QADC,yEAAS,CAAC,8DAAO,CAAC;kCACN,8DAAO;qDAAC;IAFT,YAAY;QALxB,wEAAS,CAAC;YACV,QAAQ,EAAE,eAAe;YACzB,WAAW,EAAE,4EAAe;WACS;SACrC,CAAC;6EAgC8B;YACX,uEAAS;YACP,2EAAW;YACV,sEAAe;YAClB,2EAAe;YAChB,SAAW;OApClB,YAAY,CA4KxB;IAAD,CAAC;AAAA;SA5KY,YAAY,e;;;;;;;ACxBzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtQ2C;AAC3C,sCAAsC;AACsB;AACF;AACb;AACR;AACC;AACP;AACE;AAIjC;IACC,yBAAoB,GAAqB,EAAU,EAAuB;QAAtD,QAAG,GAAH,GAAG,CAAkB;QAAU,OAAE,GAAF,EAAE,CAAqB;IAAG,CAAC;IAC9E,6CAAmB,GAAnB,UAAoB,EAAU;QAA9B,iBAOC;QANA,kDAAkD;QAClD,MAAM,CAAC,IAAI,CAAC,GAAG;aACb,UAAU,CAAC,eAAe,CAAC;aAC3B,GAAG,CAAC,KAAG,EAAI,CAAC;aACZ,YAAY,EAAE;aACd,GAAG,CAAC,kBAAQ,IAAI,YAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAzB,CAAyB,CAAC,CAAC;IAC9C,CAAC;IAED,yCAAe,GAAf,UAAgB,EAAU;QAA1B,iBAOC;QANA,kDAAkD;QAClD,MAAM,CAAC,IAAI,CAAC,GAAG;aACb,UAAU,CAAC,WAAW,CAAC;aACvB,GAAG,CAAC,KAAG,EAAI,CAAC;aACZ,YAAY,EAAE;aACd,GAAG,CAAC,kBAAQ,IAAI,YAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAzB,CAAyB,CAAC,CAAC;IAC9C,CAAC;IACD,oCAAU,GAAV,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","file":"main.js","sourcesContent":["export * from './prelaunch/prelaunch';\r\nexport * from './chatroom/chatroom';\r\nexport * from './contacts-list/contacts-list';\r\nexport * from './filter/filter';\r\nexport * from './login/login';\r\nexport * from './meet-somebody/meet-somebody';\r\nexport * from './my-profile/my-profile';\r\nexport * from './purchase/purchase';\r\nexport * from './settings/settings';\r\nexport * from './user-profile/user-profile';\r\nexport * from './vip/vip';\r\nexport * from './waitlist/waitlist';\r\nexport * from './participants-list/participants-list';\r\nexport * from './notifications-list/notifications-list';\r\nexport * from './requests-list/requests-list';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","export * from \"./chatroom.service\";\r\nexport * from \"./user.service\";\r\nexport * from \"./vip.service\";\r\nexport * from \"./auth.service\";\r\nexport * from \"./notification.service\";\r\nexport * from \"./request.service\";\r\nexport * from \"./contact.service\";\r\nexport * from \"./alert.service\";\r\nexport * from \"./firestore.service\";\r\nexport * from \"./firestore.service\";\r\nexport * from \"../shared/util.service\";\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/services.ts","import { Injectable } from \"@angular/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport \"rxjs/add/operator/toPromise\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/toPromise\";\r\nimport \"rxjs/add/observable/forkJoin\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { User } from \"../models/models\";\r\nimport { AngularFirestore } from \"angularfire2/firestore\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\r\n//import { Camera } from 'ionic-native';\r\nimport * as moment from \"moment\";\r\nimport { UtilService } from \"../shared/util.service\";\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\tpublic currentUser: ReplaySubject<User> = new ReplaySubject<User>();\r\n\tprivate access_token = ``;\r\n\r\n\tconstructor(\r\n\t\tpublic http: Http,\r\n\t\tprivate afs: AngularFirestore,\r\n\t\tprivate db: AngularFireDatabase,\r\n\t\tpublic utilSrvc: UtilService\r\n\t) {}\r\n\t// get a specific User by id - that conforms to the user model\r\n\tgetUserById(id: string): Observable<any> {\r\n\t\t//Observable<User> {\r\n\t\t// gathering of info\r\n\t\treturn this.afs.doc(`/users/${id}`).valueChanges();\r\n\t}\r\n\tgetCurrentUser(): ReplaySubject<User> {\r\n\t\treturn this.currentUser;\r\n\t}\r\n\tsetAccessToken(token): void {\r\n\t\tthis.access_token = token;\r\n\t}\r\n\t//should return promise that resolves once the data can be returned\r\n\tsetCurrentUser(usr): Promise<any> {\r\n\t\treturn new Promise<any>(resolve => {\r\n\t\t\tlet uid = usr[\"uid\"];\r\n\t\t\tthis.getUserById(uid).subscribe(\r\n\t\t\t\tuser => {\r\n\t\t\t\t\tif (user) {\r\n\t\t\t\t\t\tlet parsedUser = this.toUser(user);\r\n\t\t\t\t\t\tthis.currentUser.next(parsedUser);\r\n\t\t\t\t\t\tlocalStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//graph request, create new user with the return\r\n\t\t\t\t\t\tthis.fetchGraphData()\r\n\t\t\t\t\t\t\t.then(parsedData => {\r\n\t\t\t\t\t\t\t\tthis.createUser(parsedData)\r\n\t\t\t\t\t\t\t\t\t.then(() => resolve(true))\r\n\t\t\t\t\t\t\t\t\t.catch(error => this.handleError(error));\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror => {\r\n\t\t\t\t\tthis.handleError(error);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tfetchGraphData(): Promise<any> {\r\n\t\tlet url = `https://graph.facebook.com/v2.12/me?access_token=${\r\n\t\t\tthis.access_token\r\n\t\t}&fields=id,name,gender,locale,picture.type(large),email,first_name,last_name,birthday`;\r\n\t\treturn new Promise<any>(resolve => {\r\n\t\t\tthis.http.get(url).subscribe(\r\n\t\t\t\tuserInfo => {\r\n\t\t\t\t\tconsole.log(\"user info from fb api: \", JSON.stringify(userInfo));\r\n\t\t\t\t\tlet parsedData = JSON.parse(userInfo[\"_body\"]);\r\n\t\t\t\t\tresolve(parsedData);\r\n\t\t\t\t},\r\n\t\t\t\terr => {\r\n\t\t\t\t\tthis.handleError(err);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tmapFbtoModel(data) {\r\n\t\tlet res = {\r\n\t\t\tabout: data.about ? data.about : \"\",\r\n\t\t\tbirthday: data.birthday ? data.birthday : \"\",\r\n\t\t\tcurrentCoords: data.currentCoords ? data.currentCoords : [],\r\n\t\t\temail: data.email ? data.email : \"\",\r\n\t\t\tfirstName: data.first_name ? data.first_name : \"\",\r\n\t\t\tgender: data.gender ? data.gender : \"\",\r\n\t\t\tid: data.id ? data.id : \"\",\r\n\t\t\tlanguages: data.locale ? [data.locale] : [],\r\n\t\t\tlastName: data.last_name ? data.last_name : \"\",\r\n\t\t\tcompany: data.company ? data.company : \"\",\r\n\t\t\tcurrentLocation: data.currentLocation ? data.currentLocation : [],\r\n\t\t\tinterests: data.interests ? data.interests : [],\r\n\t\t\tphotos: data.photos\r\n\t\t\t\t? data.photos.forEach(photo => {\r\n\t\t\t\t\t\tphoto = {\r\n\t\t\t\t\t\t\timgUrl: photo.imgUrl\r\n\t\t\t\t\t\t};\r\n\t\t\t\t  })\r\n\t\t\t\t: [{ imgUrl: \"\" }],\r\n\t\t\tprofilePhoto: data.picture.data.url\r\n\t\t\t\t? {\r\n\t\t\t\t\t\timgUrl: data.picture.data.url\r\n\t\t\t\t  }\r\n\t\t\t\t: { imgUrl: \"\" },\r\n\t\t\trelationshipStatus: data.relationshipStatus\r\n\t\t\t\t? data.relationshipStatus\r\n\t\t\t\t: [],\r\n\t\t\treputationScore: data.reputationScore ? data.reputationScore : 0,\r\n\t\t\tsocialProfiles: data.socialProfiles ? data.socialProfiles : [],\r\n\t\t\tuniversityName: data.universityName ? data.universityName : \"\",\r\n\t\t\tvipStatus: data.vipStatus ? data.vipStatus : {},\r\n\t\t\twarning: data.warning ? data.warning : \"\"\r\n\t\t};\r\n\t\treturn res;\r\n\t}\r\n\t// create user in firebase\r\n\tcreateUser(userCredentials): Promise<any> {\r\n\t\t// convert info to our model\r\n\t\tlet user = this.mapFbtoModel(userCredentials);\r\n\t\t// set it in the backend\r\n\t\tconsole.log(\"creating user: \", user);\r\n\t\treturn this.afs\r\n\t\t\t.doc(`/users/${user.id}`)\r\n\t\t\t.set(user)\r\n\t\t\t.then(() => console.log(\"user set: \", user))\r\n\t\t\t.catch(error => this.handleError(error));\r\n\t}\r\n\tupdateUser(userData: User): Promise<any> {\r\n\t\tlocalStorage.setItem(\"currentUser\", JSON.stringify(userData));\r\n\t\tthis.currentUser.next(userData);\r\n\t\treturn this.afs\r\n\t\t\t.doc(`users/${userData.id}`)\r\n\t\t\t.set(userData, { merge: true })\r\n\t\t\t.then(() => console.log(\"updating info: \", userData.id))\r\n\t\t\t.catch(error => this.handleError(error));\r\n\t}\r\n\t// converts the backend user into the viewmodel of the user\r\n\ttoUser(data): User {\r\n\t\tlet user = {\r\n\t\t\tabout: data.about ? data.about : \"\",\r\n\t\t\tbirthday: data.birthday ? data.birthday : \"\",\r\n\t\t\tcurrentCoords: data.currentCoords ? data.currentCoords : [],\r\n\t\t\temail: data.email ? data.email : \"\",\r\n\t\t\tfirstName: data.firstName ? data.firstName : \"\",\r\n\t\t\tgender: data.gender ? data.gender : \"\",\r\n\t\t\tid: data.id ? data.id : \"\",\r\n\t\t\tlanguages: data.languages ? data.languages : [],\r\n\t\t\tlastName: data.lastName ? data.lastName : \"\",\r\n\t\t\tcompany: data.company ? data.company : \"\",\r\n\t\t\tcurrentLocation: data.currentLocation ? data.currentLocation : [],\r\n\t\t\tinterests: data.interests ? data.interests : [],\r\n\t\t\tphotos: data.photos\r\n\t\t\t\t? data.photos.forEach(photo => {\r\n\t\t\t\t\t\tphoto = {\r\n\t\t\t\t\t\t\timgUrl: photo.imgUrl\r\n\t\t\t\t\t\t};\r\n\t\t\t\t  })\r\n\t\t\t\t: [{ imgUrl: \"\" }],\r\n\t\t\tprofilePhoto: data.profilePhoto\r\n\t\t\t\t? {\r\n\t\t\t\t\t\timgUrl: data.profilePhoto.imgUrl\r\n\t\t\t\t  }\r\n\t\t\t\t: { imgUrl: \"\" },\r\n\t\t\trelationshipStatus: data.relationshipStatus\r\n\t\t\t\t? data.relationshipStatus\r\n\t\t\t\t: [],\r\n\t\t\treputationScore: data.reputationScore ? data.reputationScore : 0,\r\n\t\t\tsocialProfiles: data.socialProfiles ? data.socialProfiles : [],\r\n\t\t\tuniversityName: data.universityName ? data.universityName : \"\",\r\n\t\t\tvipStatus: data.vipStatus ? data.vipStatus : {},\r\n\t\t\twarning: data.warning ? data.warning : \"\"\r\n\t\t};\r\n\t\treturn user;\r\n\t}\r\n\taddImage(userId: string, image): Promise<any> {\r\n\t\tlet photos = this.afs.collection(`users/${userId}/photos`);\r\n\t\treturn photos.add(image).catch(error => this.handleError(error));\r\n\t}\r\n\tdeleteImage(userId: string, imageUrl: string): Promise<any> {\r\n\t\tlet image = this.afs.doc(`users/${userId}/photos/${imageUrl}`);\r\n\t\treturn image.delete().catch(error => this.handleError(error));\r\n\t}\r\n\t//creates an individual room for the two users\r\n\tcreateConversation(fromId: string, toId: string) {\r\n\t\tlet roomId = this.utilSrvc.uniqueRelId(fromId, toId);\r\n\t\tlet dbRef = this.afs.doc(`chatrooms/${roomId}`);\r\n\t\tthis.getUserById(toId).subscribe(user => {\r\n\t\t\tlet conversation: any = {\r\n\t\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\t\tparticipants: [this.currentUser, user]\r\n\t\t\t};\r\n\t\t\tthis.sendWelcomeConversationMessage(roomId);\r\n\t\t\treturn dbRef.set(conversation);\r\n\t\t});\r\n\t}\r\n\tsendWelcomeConversationMessage(roomId) {\r\n\t\tlet defaultMessage = {\r\n\t\t\tcontent: \"you are now connected!\",\r\n\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\tsenderId: 1111\r\n\t\t};\r\n\t\tthis.db.list(`messages/${roomId}`).push(defaultMessage);\r\n\t}\r\n\tremoveConversation(id) {\r\n\t\tlet dbRef = this.afs.doc(`chatrooms/${id}`);\r\n\t\treturn dbRef.delete();\r\n\t}\r\n\tprivate handleError(error: any): Promise<any> {\r\n\t\tconsole.error(\"Error: \", error); // for demo purposes only\r\n\t\treturn Promise.reject(error.message || error);\r\n\t}\r\n\t/*\r\n  getPicture(){\r\n    let base64Picture;\r\n    let options = {\r\n      destinationType: 0,\r\n      sourceType: 0,\r\n      encodingType: 0\r\n    };\r\n    let promise = new Promise((resolve, reject) => {\r\n      Camera.getPicture(options).then(imageData => {\r\n        base64Picture = \"data:image/jpeg;base64,\" + imageData;\r\n        resolve(base64Picture);\r\n        }, (error) => {\r\n          reject(error);\r\n      }).catch(error => this.handleError(error));\r\n    });\r\n    return promise;\r\n  }\r\n  // Update Profile Picture\r\n  updatePicture() {\r\n    this.getUid().then(uid => {\r\n      let pictureRef = this.db.object(`/users/${uid}/picture`);\r\n      this.getPicture().then(image => {\r\n        pictureRef.set(image);\r\n      }).catch(error => this.handleError(error));\r\n    }).catch(error => this.handleError(error));\r\n  }\r\n  updateProfile(user){\r\n  }\r\n  // Tests to see if /users/<userId> has any data.\r\n  checkIfUserExists(id: string): void {\r\n    var usersRef = firebase.database().ref('/users');\r\n    usersRef.child(id).once('value', snapshot => {\r\n      var exists = (snapshot.val() !== null);\r\n      this.userExistsCallback(id, exists);\r\n    });\r\n  }\r\n  // if user exists, do nothing, if not, create a new user\r\n  userExistsCallback(userId: string, exists: boolean): void {\r\n    if (exists) {\r\n      console.log('user ' + userId + ' exists!');\r\n    } else {\r\n      console.log('saving new user to the database');\r\n      this.createUser(this.currentUser);\r\n    }\r\n  }\r\n  // Get Info of a Single User\r\n  getUserProfile(id: string): FirebaseObjectObservable<User> {\r\n    return this.db.object(`/users/${id}`);\r\n  }\r\n  //deleting a user from the database\r\n  removeUser(id: string): void {\r\n    let usersRef = this.db.list(`/users`)\r\n    usersRef.remove(id);\r\n  }\r\n      /*\r\n  //logic for contacts list page\r\n  // get list of contacts of the current user\r\n  getUserContacts(uid): FirebaseListObservable<any[]> {\r\n    let contacts = this.db.list(`/users/${uid}/contacts`);\r\n    return contacts;\r\n  }\r\n  // TO DO ADD LIKING< CREATING AND CHECKING FOR THEM\r\n  // create a contact - add chat references to both users\r\n  addContact(uid: string, otherId: string): void {\r\n    let thisRef = this.db.list(`/users/${uid}/contacts`);\r\n    //tgetting user data to set in contacts user\r\n    this.getUserProfile(otherId).subscribe(user => {\r\n      // mapping the data to the contact interface\r\n      let otherUser = {\r\n        id: otherId,\r\n        name: user.name,\r\n        photoUrl: user.photoUrl,\r\n        age: user.age,\r\n        lastText: \"You successfully connected, time to say Hi! :)\"\r\n      }\r\n      // seting the contact in this users' contacts list\r\n      thisRef.push(otherUser);\r\n      //the other user\r\n      let otherRef = this.db.list(`/users/${otherId}/contacts`);\r\n      let thisUser = {\r\n        id: this.user.uid,\r\n        name: this.user.name,\r\n        photoUrl: this.user.photoUrl,\r\n        age: this.user.age,\r\n        lastText: \"You successfully connected, time to say Hi! :)\"\r\n      };\r\n      otherRef.push(thisUser);\r\n      //push it to the chats list\r\n      this.getUid().then(uid => {\r\n        let chatsRef = this.db.list(`/chats/${uid},${otherId}`);\r\n        chatsRef.push({\r\n          text: \"You successfully connected, time to say Hi! :)\",\r\n          type: \"system-message\",\r\n          picture: '',\r\n          time: firebase.database.ServerValue.TIMESTAMP\r\n        })\r\n      }).catch(error => this.handleError(error));\r\n    });\r\n  }\r\n  // remove a chat from the list\r\n  removeContact(id: string): void {\r\n    //this user\r\n    this.contacts.remove(id);\r\n    //other user\r\n    let otherRef = this.db.list(`/users/${id}/contacts`);\r\n    this.getUid().then(uid => {\r\n      otherRef.remove(uid);\r\n      //chats list\r\n      this.db.list(`/chats/${uid},${id}`).remove();\r\n    }).catch(error => this.handleError(error));\r\n  }\r\n  /*\r\n    getUid(): Promise<string>{\r\n    let res = new Promise<any>((resolve, reject) => {\r\n        console.log('uid in getUid(): ', JSON.parse(localStorage.getItem('currentUser')).uid);\r\n        resolve(JSON.parse(localStorage.getItem('currentUser')).uid);\r\n    });\r\n    return res;\r\n  }\r\n  getCurrentUser(): Promise<User>{\r\n    let res = new Promise<any>((resolve, reject) => {\r\n        resolve(JSON.parse(localStorage.getItem('currentUser')));\r\n    });\r\n    return res;\r\n  }\r\n  getPicture(){\r\n    let base64Picture;\r\n    let options = {\r\n      destinationType: 0,\r\n      sourceType: 0,\r\n      encodingType: 0\r\n    };\r\n    let promise = new Promise((resolve, reject) => {\r\n      Camera.getPicture(options).then(imageData => {\r\n        base64Picture = \"data:image/jpeg;base64,\" + imageData;\r\n        resolve(base64Picture);\r\n        }, (error) => {\r\n          reject(error);\r\n      }).catch(error => this.handleError(error));\r\n    });\r\n    return promise;\r\n  }\r\n  // Update Profile Picture\r\n  updatePicture() {\r\n    this.getUid().then(uid => {\r\n      let pictureRef = this.db.object(`/users/${uid}/picture`);\r\n      this.getPicture().then(image => {\r\n        pictureRef.set(image);\r\n      }).catch(error => this.handleError(error));\r\n    }).catch(error => this.handleError(error));\r\n  }\r\n  updateProfile(user){\r\n  }\r\n  // Tests to see if /users/<userId> has any data.\r\n  checkIfUserExists(id: string): void {\r\n    var usersRef = firebase.database().ref('/users');\r\n    usersRef.child(id).once('value', snapshot => {\r\n      var exists = (snapshot.val() !== null);\r\n      this.userExistsCallback(id, exists);\r\n    });\r\n  }\r\n  // if user exists, do nothing, if not, create a new user\r\n  userExistsCallback(userId: string, exists: boolean): void {\r\n    if (exists) {\r\n      console.log('user ' + userId + ' exists!');\r\n    } else {\r\n      console.log('saving new user to the database');\r\n      this.createUser(this.currentUser);\r\n    }\r\n  }\r\n  // Get Info of a Single User\r\n  getUserProfile(id: string): FirebaseObjectObservable<User> {\r\n    return this.db.object(`/users/${id}`);\r\n  }\r\n  // create user in firebase\r\n  createUser(userCredentials): void {\r\n    const userObservable = this.db.object(`/users/${userCredentials.uid}`);\r\n    console.log('creating a new user in the back-end: ', userCredentials.uid);\r\n    userObservable.set(this.toUser(this.currentUser));\r\n  }\r\n  toUser(data): User{\r\n    let user = {\r\n      uid: data.uid,\r\n      name: data.displayName,\r\n      email: data.email,\r\n      photoUrl: data.photoURL,\r\n      provider: data.providerId\r\n    }\r\n    return user;\r\n  }\r\n  //deleting a user from the database\r\n  removeUser(id: string): void {\r\n    let usersRef = this.db.list(`/users`)\r\n    usersRef.remove(id);\r\n  }\r\n  //logic for contacts list page\r\n  // get list of contacts of the current user\r\n  getUserContacts(uid): FirebaseListObservable<any[]> {\r\n    let contacts = this.db.list(`/users/${uid}/contacts`);\r\n    return contacts;\r\n  }\r\n  // TO DO ADD LIKING< CREATING AND CHECKING FOR THEM\r\n  // create a contact - add chat references to both users\r\n  addContact(uid: string, otherId: string): void {\r\n    let thisRef = this.db.list(`/users/${uid}/contacts`);\r\n    //tgetting user data to set in contacts user\r\n    this.getUserProfile(otherId).subscribe(user => {\r\n      // mapping the data to the contact interface\r\n      let otherUser = {\r\n        id: otherId,\r\n        name: user.name,\r\n        photoUrl: user.photoUrl,\r\n        age: user.age,\r\n        lastText: \"You successfully connected, time to say Hi! :)\"\r\n      }\r\n      // seting the contact in this users' contacts list\r\n      thisRef.push(otherUser);\r\n      //the other user\r\n      let otherRef = this.db.list(`/users/${otherId}/contacts`);\r\n      let thisUser = {\r\n        id: this.user.uid,\r\n        name: this.user.name,\r\n        photoUrl: this.user.photoUrl,\r\n        age: this.user.age,\r\n        lastText: \"You successfully connected, time to say Hi! :)\"\r\n      };\r\n      otherRef.push(thisUser);\r\n      //push it to the chats list\r\n      this.getUid().then(uid => {\r\n        let chatsRef = this.db.list(`/chats/${uid},${otherId}`);\r\n        chatsRef.push({\r\n          text: \"You successfully connected, time to say Hi! :)\",\r\n          type: \"system-message\",\r\n          picture: '',\r\n          time: firebase.database.ServerValue.TIMESTAMP\r\n        })\r\n      }).catch(error => this.handleError(error));\r\n    });\r\n  }\r\n  // remove a chat from the list\r\n  removeContact(id: string): void {\r\n    //this user\r\n    this.contacts.remove(id);\r\n    //other user\r\n    let otherRef = this.db.list(`/users/${id}/contacts`);\r\n    this.getUid().then(uid => {\r\n      otherRef.remove(uid);\r\n      //chats list\r\n      this.db.list(`/chats/${uid},${id}`).remove();\r\n    }).catch(error => this.handleError(error));\r\n  }\r\n  */\r\n \t/*\r\n\tsetProfilePicture(uid: string): Promise<any> {\r\n\t\tconsole.log(\"setProfilePicture called\");\r\n\t\t// set picture to the larger one\r\n\t\treturn this.facebook\r\n\t\t\t.api(`${uid}/picture?type=large`, [])\r\n\t\t\t.then(photo => {\r\n\t\t\t\t// set the returned user in the backend\r\n\t\t\t\tthis.afs\r\n\t\t\t\t\t.doc(`/users/${uid}/photoUrl`)\r\n\t\t\t\t\t.set(photo.data.url + \"?type=large\")\r\n\t\t\t\t\t.catch(error => this.handleError(error));\r\n\t\t\t})\r\n\t\t\t.catch(error => this.handleError(error));\r\n\t}*/\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/user.service.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the PrelaunchPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-prelaunch',\r\n  templateUrl: 'prelaunch.html',\r\n})\r\nexport class PrelaunchPage {\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PrelaunchPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/prelaunch/prelaunch.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 222;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 222\n// module chunks = 1","var map = {\n\t\"../pages/prelaunch/prelaunch.module\": [\n\t\t786,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 268;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 268\n// module chunks = 1","import { Injectable } from \"@angular/core\";\r\nimport {\r\n\tAngularFirestore,\r\n\tAngularFirestoreDocument,\r\n\tAngularFirestoreCollection\r\n} from \"angularfire2/firestore\";\r\nimport \"rxjs/add/operator/take\";\r\nimport { User } from \"../models/models\";\r\n\r\n@Injectable()\r\nexport class FirestoreService {\r\n\tconstructor(private afs: AngularFirestore) {}\r\n\r\n\t// Get an object from Firestore by its path. For eg: firestore.get('users/' + userId) to get a user object.\r\n\tpublic get(path: string): Promise<AngularFirestoreDocument<{}>> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tresolve(this.afs.doc(path));\r\n\t\t});\r\n\t}\r\n\r\n\t// Check if the object exists on Firestore. Returns a boolean promise with true/false.\r\n\tpublic exists(path: string): Promise<boolean> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.doc(path)\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.take(1)\r\n\t\t\t\t.subscribe(res => {\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Get all users on Firestore ordered by their firstNames.\r\n\tpublic getUsers(): AngularFirestoreCollection<User> {\r\n\t\treturn this.afs.collection(\"users\", ref => ref.orderBy(\"firstName\"));\r\n\t}\r\n\t/*\r\n\t// Get all conversations on Firestore.\r\n\tpublic getConversations(): AngularFirestoreCollection<{}> {\r\n\t\treturn this.afs.collection(\"conversations\");\r\n\t}\r\n\r\n\t// Get all conversations of user on Firestore.\r\n\tpublic getUserConversations(userId: string): AngularFirestoreCollection<{}> {\r\n\t\treturn this.afs.collection(\"users/\" + userId + \"/conversations\");\r\n\t}\r\n\r\n\t// Get conversation info of a user with their partner on Firestore.\r\n\tpublic getUserConversation(\r\n\t\tuserId: string,\r\n\t\tpartnerId: string\r\n\t): AngularFirestoreDocument<{}> {\r\n\t\treturn this.afs.doc(\"users/\" + userId + \"/conversations/\" + partnerId);\r\n\t}\r\n\r\n\t// Get userData of a user given the username. Return the userData promise.\r\n\tpublic getUserByUsername(username: string): Promise<User> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(\"users\", ref => ref.where(\"username\", \"==\", username))\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.take(1)\r\n\t\t\t\t.subscribe((res: User[]) => {\r\n\t\t\t\t\tif (res.length > 0) {\r\n\t\t\t\t\t\tresolve(res[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Get userData of a user given the pushToken. Return the userData promise.\r\n\tpublic getUserByPushToken(token: string): Promise<User> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(\"users\", ref => ref.where(\"pushToken\", \"==\", token))\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.take(1)\r\n\t\t\t\t.subscribe((res: User[]) => {\r\n\t\t\t\t\tif (res.length > 0) {\r\n\t\t\t\t\t\tresolve(res[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Set the pushToken of the user given the userId.\r\n\tpublic setPushToken(userId: string, token: string): void {\r\n\t\tthis.get(\"users/\" + userId)\r\n\t\t\t.then(ref => {\r\n\t\t\t\tref.update({\r\n\t\t\t\t\tpushToken: token\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(() => {});\r\n\t}\r\n\r\n\t// Remove the pushToken of the user given the userId.\r\n\tpublic removePushToken(userId: string): void {\r\n\t\tthis.get(\"users/\" + userId)\r\n\t\t\t.then(ref => {\r\n\t\t\t\tref.update({\r\n\t\t\t\t\tpushToken: \"\"\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(() => {});\r\n\t}*/\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/firestore.service.ts","import {\r\n\tUserService,\r\n\tContactService,\r\n\tRequestService,\r\n\tUtilService\r\n} from \"../../services/services\";\r\n\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController } from \"ionic-angular\";\r\nimport { ChatroomPage, RequestsListPage, UserProfilePage } from \"../pages\";\r\nimport { Contact, Request, User } from \"../../models/models\";\r\nimport * as moment from \"moment\";\r\n\r\n@Component({\r\n\tselector: \"page-contacts-list\",\r\n\ttemplateUrl: \"contacts-list.html\"\r\n})\r\nexport class ContactsListPage {\r\n\tcontacts: Contact[] = [];\r\n\tanimateClass: any;\r\n\tcurrentUser: User;\r\n\tnewRequests: boolean = false;\r\n\trequestsReceived: Request[] = [];\r\n\trequestsSent: Request[] = [];\r\n\tallRequests: Request[] = [];\r\n\r\n\tconstructor(\r\n\t\tprivate navCtrl: NavController,\r\n\t\tpublic userSrvc: UserService,\r\n\t\tpublic contactSrvc: ContactService,\r\n\t\tpublic requestSrvc: RequestService,\r\n\t\tpublic utilSrvc: UtilService\r\n\t) {\r\n\t\tconsole.log(\"ContactsListPage initialized\");\r\n\t\tthis.animateClass = { \"zoom-in\": true };\r\n\t} /*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n\tngAfterViewInit() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tlet env = this;\r\n\t\t\tthis.userSrvc\r\n\t\t\t\t.getCurrentUser()\r\n\t\t\t\t.take(2)\r\n\t\t\t\t.subscribe(user => {\r\n\t\t\t\t\tthis.currentUser = user;\r\n\t\t\t\t\tthis.contactSrvc.getContacts(user.id).subscribe(contacts => {\r\n\t\t\t\t\t\tthis.contacts = contacts;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.requestSrvc.getSentRequests(user.id).subscribe(requests => {\r\n\t\t\t\t\t\tthis.allRequests = this.allRequests.concat(requests);\r\n\t\t\t\t\t\tthis.requestsSent = requests;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.requestSrvc.getReceivedRequests(user.id).subscribe(requests => {\r\n\t\t\t\t\t\tthis.allRequests = requests;\r\n\t\t\t\t\t\tthis.requestsReceived = requests;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// setting contacts\r\n\t\t\t\t\tlet contacts = this.contacts.sort((first, second) => {\r\n\t\t\t\t\t\treturn moment(second.lastMessage.createdAt).diff(\r\n\t\t\t\t\t\t\tmoment(first.lastMessage.createdAt)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfor (let i = 0; i < contacts.length; i++) {\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tenv.contacts.push(contacts[i]);\r\n\t\t\t\t\t\t\tconsole.log(\"contacts in contactsList: \", env.contacts);\r\n\t\t\t\t\t\t}, 100 * i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// checking for new requests\r\n\t\t\t\t\t/*\r\n\t\t\t\t\tfor (let i = 0; i < this.requestsReceived.length; i++) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tthis.requestsReceived[i].seen.indexOf(this.currentUser.id) === -1\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tthis.newRequests = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}*/\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\tdoInfinite(infiniteScroll) {\r\n\t\t//Begin async operation\r\n\t\tthis.ngAfterViewInit()\r\n\t\t\t.then(() => {\r\n\t\t\t\tinfiniteScroll.complete();\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n\tviewRequests() {\r\n\t\tthis.navCtrl.push(RequestsListPage, { requests: this.allRequests });\r\n\t}\r\n\topenChat(user) {\r\n\t\tlet roomId = this.utilSrvc.uniqueRelId(this.currentUser.id, user.id);\r\n\t\tthis.navCtrl.push(ChatroomPage, {\r\n\t\t\troom: roomId,\r\n\t\t\tprivateConversation: true\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contacts-list/contacts-list.ts","import { LANGUAGES } from \"./../../services/languages-list\";\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController, LoadingController, App } from \"ionic-angular\";\r\nimport { WaitlistPage, ChatroomPage } from \"../pages\";\r\nimport { Language } from \"../../models/models\";\r\nimport { User } from \"../../models/models\";\r\nimport { ChatroomService } from \"../../services/services\";\r\nimport { UserService } from \"../../services/services\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\n\r\n@Component({\r\n\tselector: \"page-meet-somebody\",\r\n\ttemplateUrl: \"meet-somebody.html\"\r\n})\r\nexport class MeetSomebodyPage {\r\n\tlanguages: Language[];\r\n\tselectedLanguages: Language[] = [];\r\n\tcurrentUser: User;\r\n\tcurrentLocation: any;\r\n\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tpublic loadingCtrl: LoadingController,\r\n\t\tpublic chatroomSrvc: ChatroomService,\r\n\t\tpublic userSrvc: UserService,\r\n\t\tpublic geolocation: Geolocation,\r\n\t\tpublic app: App\r\n\t) {}\r\n\tionViewDidLoad() {\r\n\t\tlet chatroomId = JSON.parse(localStorage.getItem(\"currentChatroomId\"));\r\n\t\tif (chatroomId) {\r\n\t\t\tthis.goToChatroom(chatroomId);\r\n\t\t} else {\r\n\t\t\tthis.languages = LANGUAGES;\r\n\t\t\tthis.userSrvc\r\n\t\t\t\t.getCurrentUser()\r\n\t\t\t\t.take(2)\r\n\t\t\t\t.subscribe(user => (this.currentUser = user));\r\n\t\t\tthis.geolocation\r\n\t\t\t\t.getCurrentPosition()\r\n\t\t\t\t.then(location => {\r\n\t\t\t\t\tthis.currentLocation = location;\r\n\t\t\t\t\tconsole.log(\"user's locations: \", location);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t\tconsole.log(\"ionViewDidLoad MeetSomebodyPage\");\r\n\t}\r\n\tgoToWaitlist() {\r\n\t\t// then, go to waitlist - perhaps waitlist should be a modal that can be dismissed as necessary?\r\n\t\t//console.log('selected languages being passed to waitlistPage: ', this.selectedLanguages);\r\n\t\tthis.navCtrl.push(WaitlistPage, {\r\n\t\t\tlocation: this.currentLocation,\r\n\t\t\tlanguages: this.selectedLanguages\r\n\t\t});\r\n\t}\r\n\tgoToChatroom(chatroomId: string) {\r\n\t\tthis.navCtrl.push(ChatroomPage, { room: `${chatroomId}` });\r\n\t}\r\n\t/*\r\n  viewFilter(){\r\n    this.navCtrl.push(FilterPage);\r\n  }*/\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/meet-somebody/meet-somebody.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","// imports\r\nimport { NgModule } from \"@angular/core\";\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { BrowserModule } from \"@angular/platform-browser\";\r\nimport { IonicApp, IonicModule } from \"ionic-angular\";\r\nimport { MyApp } from \"./app.component\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { IonicStorageModule } from \"@ionic/storage\";\r\nimport { AngularFireModule } from \"angularfire2\";\r\nimport { AngularFireDatabaseModule } from \"angularfire2/database\";\r\nimport { AngularFirestoreModule } from \"angularfire2/firestore\";\r\nimport { AngularFireAuthModule } from \"angularfire2/auth\";\r\n// declarations\r\n// pages\r\nimport { MeetSomebodyPage } from \"../pages/pages\";\r\nimport { ContactsListPage } from \"../pages/pages\";\r\nimport { SettingsPage } from \"../pages/pages\";\r\nimport { LoginPage } from \"../pages/pages\";\r\nimport { UserProfilePage } from \"../pages/pages\";\r\nimport { MyProfilePage } from \"../pages/pages\";\r\nimport { ChatroomPage } from \"../pages/pages\";\r\nimport { FilterPage } from \"../pages/pages\";\r\nimport { VIPPage } from \"../pages/pages\";\r\nimport { PurchasePage } from \"../pages/pages\";\r\nimport { WaitlistPage } from \"../pages/pages\";\r\nimport { ParticipantsListPage } from \"../pages/pages\";\r\nimport { NotificationsListPage } from \"../pages/pages\";\r\nimport { RequestsListPage } from \"../pages/pages\";\r\n// components\r\nimport { GalleryComponent } from \"../components/components\";\r\nimport { ChatBubbleComponent } from \"../components/components\";\r\nimport { ProfilePostsComponent } from \"../components/components\";\r\nimport { ProfileTimelineComponent } from \"../components/components\";\r\nimport { BackButtonComponent } from \"../components/components\";\r\nimport { MenuButtonComponent } from \"../components/components\";\r\nimport firebase from \"firebase\";\r\n// providers\r\nimport { DefaultImageDirective } from \"../shared/default-image.directive\";\r\nimport { PipeModule } from \"../shared/pipe.module\";\r\n// import services\r\nimport { ErrorHandler } from \"@angular/core\";\r\nimport { IonicErrorHandler } from \"ionic-angular\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\nimport { UtilService } from \"./../shared/util.service\";\r\n//import { Camera } from '@ionic-native/camera';\r\nimport { Facebook } from \"@ionic-native/facebook\";\r\nimport { ChatroomService } from \"../services/services\";\r\nimport { VipService } from \"../services/services\";\r\nimport { UserService } from \"../services/services\";\r\nimport { AuthService } from \"../services/services\";\r\nimport { NotificationService } from \"../services/services\";\r\nimport { RequestService } from \"../services/services\";\r\nimport { ContactService } from \"../services/services\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport { AlertService } from \"../services/services\";\r\nimport { FirestoreService } from \"../services/services\";\r\nimport { Environment } from \"../environment/environment\";\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tMyApp,\r\n\t\tMeetSomebodyPage,\r\n\t\tContactsListPage,\r\n\t\tSettingsPage,\r\n\t\tLoginPage,\r\n\t\tUserProfilePage,\r\n\t\tMyProfilePage,\r\n\t\tChatroomPage,\r\n\t\tVIPPage,\r\n\t\tFilterPage,\r\n\t\tPurchasePage,\r\n\t\tWaitlistPage,\r\n\t\tGalleryComponent,\r\n\t\tChatBubbleComponent,\r\n\t\tProfilePostsComponent,\r\n\t\tProfileTimelineComponent,\r\n\t\tBackButtonComponent,\r\n\t\tMenuButtonComponent,\r\n\t\tParticipantsListPage,\r\n\t\tNotificationsListPage,\r\n\t\tRequestsListPage,\r\n\t\tDefaultImageDirective\r\n\t],\r\n\timports: [\r\n\t\tBrowserModule,\r\n\t\tHttpModule,\r\n\t\tBrowserAnimationsModule,\r\n\t\tPipeModule.forRoot(),\r\n\t\tIonicModule.forRoot(MyApp, Environment.config),\r\n\t\tAngularFireModule.initializeApp(Environment.firebase),\r\n\t\tAngularFireDatabaseModule,\r\n\t\tAngularFirestoreModule.enablePersistence(),\r\n\t\tAngularFireAuthModule,\r\n\t\tIonicStorageModule.forRoot()\r\n\t],\r\n\tbootstrap: [IonicApp],\r\n\tentryComponents: [\r\n\t\tMyApp,\r\n\t\tMeetSomebodyPage,\r\n\t\tContactsListPage,\r\n\t\tSettingsPage,\r\n\t\tLoginPage,\r\n\t\tUserProfilePage,\r\n\t\tMyProfilePage,\r\n\t\tChatroomPage,\r\n\t\tVIPPage,\r\n\t\tPurchasePage,\r\n\t\tFilterPage,\r\n\t\tParticipantsListPage,\r\n\t\tNotificationsListPage,\r\n\t\tRequestsListPage,\r\n\t\tWaitlistPage\r\n\t],\r\n\tproviders: [\r\n\t\tUserService,\r\n\t\tNotificationService,\r\n\t\t//Camera,\r\n\t\tFacebook,\r\n\t\tAuthService,\r\n\t\tContactService,\r\n\t\tUserService,\r\n\t\tChatroomService,\r\n\t\tAngularFireDatabase,\r\n\t\tVipService,\r\n\t\tRequestService,\r\n\t\tGeolocation,\r\n\t\tAlertService,\r\n\t\tFirestoreService,\r\n\t\tUtilService,\r\n\t\t{ provide: ErrorHandler, useClass: IonicErrorHandler }\r\n\t]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from \"@angular/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport \"rxjs/add/operator/map\";\r\nimport { AlertController } from \"ionic-angular\";\r\nimport { Message } from \"../models/models\";\r\nimport * as moment from \"moment\";\r\n\r\n/*\r\n  Generated class for the UtilService provider.\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular 2 DI.\r\n*/\r\n@Injectable()\r\nexport class UtilService {\r\n\tconstructor(public http: Http, public alertCtrl: AlertController) {\r\n\t\tconsole.log(\"Hello UtilService Provider\");\r\n\t}\r\n\t// generate a random name to put in firebase storage\r\n\tguid() {\r\n\t\tfunction s4() {\r\n\t\t\treturn Math.floor((1 + Math.random()) * 0x10000)\r\n\t\t\t\t.toString(16)\r\n\t\t\t\t.substring(1);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\ts4() +\r\n\t\t\ts4() +\r\n\t\t\t\"-\" +\r\n\t\t\ts4() +\r\n\t\t\t\"-\" +\r\n\t\t\ts4() +\r\n\t\t\t\"-\" +\r\n\t\t\ts4() +\r\n\t\t\t\"-\" +\r\n\t\t\ts4() +\r\n\t\t\ts4() +\r\n\t\t\ts4()\r\n\t\t);\r\n\t}\r\n\t// generats a uniqueId for a relationship e.g. sent request and etc\r\n\tuniqueRelId(from: string, to: string): string {\r\n\t\tif (from <= to) {\r\n\t\t\treturn from.concat(\"_\" + to);\r\n\t\t} else {\r\n\t\t\treturn to.concat(\"_\" + from);\r\n\t\t}\r\n\t}\r\n\t// calculates how much tiem in human words has passed since a specific date\r\n\ttimeSince(date) {\r\n\t\tlet newDate = Date.now();\r\n\t\tvar seconds = Math.floor((newDate - date) / 1000);\r\n\t\tvar interval = Math.floor(seconds / 31536000);\r\n\t\tif (interval > 1) {\r\n\t\t\treturn interval + \" years ago\";\r\n\t\t}\r\n\t\tinterval = Math.floor(seconds / 2592000);\r\n\t\tif (interval > 1) {\r\n\t\t\treturn interval + \" months ago\";\r\n\t\t}\r\n\t\tinterval = Math.floor(seconds / 86400);\r\n\t\tif (interval > 1) {\r\n\t\t\treturn interval + \" days ago\";\r\n\t\t}\r\n\t\tinterval = Math.floor(seconds / 3600);\r\n\t\tif (interval > 1) {\r\n\t\t\treturn interval + \" hours ago\";\r\n\t\t}\r\n\t\tinterval = Math.floor(seconds / 60);\r\n\t\tif (interval > 1) {\r\n\t\t\treturn interval + \" minutes ago\";\r\n\t\t}\r\n\t\treturn Math.floor(seconds) + \" seconds ago\";\r\n\t}\r\n\tdoAlert(message, buttonText): void {\r\n\t\tconsole.log(message);\r\n\t\tlet alert = this.alertCtrl.create({\r\n\t\t\tmessage: message,\r\n\t\t\tbuttons: [buttonText]\r\n\t\t});\r\n\t\talert.present();\r\n\t}\r\n\t// adds right or left to the position property depending on whether the sender is the current User\r\n\taddMessagePosition(messages: Message[] = [], currentUserId: string): any[] {\r\n\t\tlet res = [];\r\n\t\tfor (var i = 0; i < messages.length; i++) {\r\n\t\t\tres.push(messages[i]);\r\n\t\t\tif (messages[i].sender.id === currentUserId) {\r\n\t\t\t\tres[i].position = \"right\";\r\n\t\t\t} else {\r\n\t\t\t\tres[i].position = \"left\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t// adds time passed since the message was sent string for message\r\n\taddMessageTimeSince(messages: Message[] = []): any[] {\r\n\t\tlet res = [];\r\n\t\tfor (var i = 0; i < messages.length; i++) {\r\n\t\t\tres.push(messages[i]);\r\n\t\t\tres[i].time = this.timeSince(messages[i].createdAt);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\t//a dummy method for ocming up with different dates\r\n\tcreateDate(n): string {\r\n\t\tlet date = moment().format(\"DD/MM/YYYY, hh:mm:ss\");\r\n\t\treturn date;\r\n\t}\r\n\tpresentFakedoorAlert(action: string) {\r\n\t\tconst alert = this.alertCtrl.create({\r\n\t\t\ttitle: \"Sorry\",\r\n\t\t\tmessage: \"This function is not available at this time\",\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Got it\",\r\n\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\tconsole.log(\"Got it clicked\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\talert.present();\r\n\t\tconsole.log(\"fake door presented for: \", action);\r\n\t}\r\n\tfinInstance(array: Array<any>, object): number {\r\n\t\tarray.forEach((ins, index) => {\r\n\t\t\tif (this.deepEqual(ins, object)) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn -1;\r\n\t}\r\n\tdeepEqual(obj1, obj2): boolean {\r\n\t\treturn JSON.stringify(obj1) === JSON.stringify(obj2);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/util.service.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { Platform, MenuController, Nav } from \"ionic-angular\";\r\n//import { Storage } from '@ionic/storage';\r\n// pages\r\nimport { MyProfilePage } from \"../pages/pages\";\r\nimport { ContactsListPage } from \"../pages/pages\";\r\n// import { NotificationsListPage } from \"../pages/pages\";\r\nimport { VIPPage } from \"../pages/pages\";\r\nimport { MeetSomebodyPage } from \"../pages/pages\";\r\nimport { LoginPage } from \"../pages/pages\";\r\n//import { SettingsPage } from '../pages/pages';\r\n// providers\r\nimport { UserService } from \"../services/services\";\r\nimport { AuthService } from \"../services/services\";\r\n// models\r\nimport { User } from \"../models/models\";\r\nimport firebase from \"firebase\";\r\n\r\n@Component({\r\n\ttemplateUrl: \"app.component.html\"\r\n})\r\nexport class MyApp {\r\n\t@ViewChild(Nav)\r\n\tnavCtrl: Nav;\r\n\tpublic rootPage: any = LoginPage;\r\n\t@ViewChild(Nav)\r\n\tnav: Nav;\r\n\tpublic pages: any[] = [];\r\n\tprivate activePage: any;\r\n\tpublic currentUser: User;\r\n\r\n\tmyProfile = {\r\n\t\tcomponent: MyProfilePage\r\n\t};\r\n\r\n\tconstructor(\r\n\t\tprivate platform: Platform,\r\n\t\tprivate menu: MenuController,\r\n\t\tprivate authSrvc: AuthService,\r\n\t\t//private storage: Storage,\r\n\t\tprivate userSrvc: UserService\r\n\t) {\r\n\t\tthis.pages = [\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Meet people Nearby\",\r\n\t\t\t\tcomponent: MeetSomebodyPage,\r\n\t\t\t\ticon: \"ios-locate-outline\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Contacts\",\r\n\t\t\t\tcomponent: ContactsListPage,\r\n\t\t\t\ticon: \"ios-chatboxes-outline\"\r\n\t\t\t},\r\n\t\t\t//{ title: 'Notifications', component: NotificationsListPage, icon: 'ios-notifications-outline' },\r\n\t\t\t{\r\n\t\t\t\ttitle: \"Edit Profile\",\r\n\t\t\t\tcomponent: MyProfilePage,\r\n\t\t\t\ticon: \"ios-contacts-outline\"\r\n\t\t\t}\r\n\t\t\t/*\r\n      { title: 'Settings', component: SettingsPage, icon: 'ios-settings-outline' }\r\n      */\r\n\t\t];\r\n\t\tplatform\r\n\t\t\t.ready()\r\n\t\t\t.then(() => {\r\n\t\t\t\t// Okay, so the platform is ready and our plugins are available.\r\n\t\t\t\t// Here you can do any higher level native things you might need.\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n\tngOnInit() {\r\n\t\tfirebase.auth().onAuthStateChanged(\r\n\t\t\tuser => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\t//should be after the user has been set\r\n\t\t\t\t\tthis.userSrvc\r\n\t\t\t\t\t\t.setCurrentUser(user[\"providerData\"][0])\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\treturn this.userSrvc\r\n\t\t\t\t\t\t\t\t.getCurrentUser()\r\n\t\t\t\t\t\t\t\t.take(2)\r\n\t\t\t\t\t\t\t\t.subscribe(\r\n\t\t\t\t\t\t\t\t\tresult => {\r\n\t\t\t\t\t\t\t\t\t\t//getCurrentUser returns a subject so we need to check if there's actual value in it\r\n\t\t\t\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.currentUser = result;\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"current user :\", this.currentUser);\r\n\t\t\t\t\t\t\t\t\t\t\tthis.rootPage = MeetSomebodyPage;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.rootPage = LoginPage;\r\n\t\t\t\t\t\t\t\t\t\t\t//this.storage.set('introShown', true);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t\t\t\t\t//this.loader.dismiss();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.error(\"Error:\", err);\r\n\t\t\t\t\t\t\tthis.rootPage = LoginPage;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rootPage = LoginPage;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\tthis.rootPage = LoginPage;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\topenPage(page) {\r\n\t\t// close the menu when clicking a link from the menu\r\n\t\tthis.menu.close();\r\n\t\tthis.activePage = page;\r\n\t\t// navigate to the new page if it is not the current page\r\n\t\tthis.nav.setRoot(page.component);\r\n\t}\r\n\tviewVIP() {\r\n\t\tthis.navCtrl.push(VIPPage);\r\n\t}\r\n\tlogout() {\r\n\t\t//add actual logging out and locaStorage clearing\r\n\t\tthis.authSrvc\r\n\t\t\t.logout()\r\n\t\t\t.then(() => this.navCtrl.setRoot(LoginPage))\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n\tcheckActive(page) {\r\n\t\treturn page == this.activePage;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { UtilService } from \"./../../shared/util.service\";\r\nimport {\r\n\tComponent,\r\n\tViewChild,\r\n\tViewEncapsulation,\r\n\tElementRef\r\n} from \"@angular/core\";\r\nimport { NavController, NavParams, Content } from \"ionic-angular\";\r\nimport { UserService, ChatroomService } from \"../../services/services\";\r\nimport { Chatroom, User, Message } from \"../../models/models\";\r\nimport {\r\n\tUserProfilePage,\r\n\tMeetSomebodyPage,\r\n\tParticipantsListPage\r\n} from \"../pages\";\r\nimport { AlertController } from \"ionic-angular\";\r\nimport * as moment from \"moment\";\r\nimport \"rxjs/add/operator/mergeMap\";\r\n\r\n@Component({\r\n\tselector: \"page-chatroom\",\r\n\ttemplateUrl: \"chatroom.html\",\r\n\tencapsulation: ViewEncapsulation.None\r\n})\r\nexport class ChatroomPage {\r\n\t@ViewChild(Content)\r\n\tcontentArea: Content;\r\n\tusers: any[] = [];\r\n\tmessages: any[] = [];\r\n\tchatroom: Chatroom;\r\n\tchatroomId: string = \"\";\r\n\tcurrentUser: User;\r\n\tbckgImgNum = Math.floor(Math.random() * 50);\r\n\tuniqueId = this.utilSrvc.guid();\r\n\tprivateConversation: boolean = false;\r\n\tcurrentKey: string;\r\n\tlastPage: boolean = false;\r\n\tmessagesPerPage: number = 10;\r\n\t// checking if it was loaded the first time\r\n\tinitLoaded = false;\r\n\r\n\tnewMessage: Message = {\r\n\t\tcontent: \"\",\r\n\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\tid: this.uniqueId,\r\n\t\troomId: \"\",\r\n\t\tsender: {\r\n\t\t\tid: \"\",\r\n\t\t\tfirstName: \"\",\r\n\t\t\tlastName: \"\",\r\n\t\t\timgUrl: \"\"\r\n\t\t},\r\n\t\tseen: []\r\n\t};\r\n\tconstructor(\r\n\t\tprivate navCtrl: NavController,\r\n\t\tprivate navParams: NavParams,\r\n\t\tprivate userService: UserService,\r\n\t\tprivate chatroomSrvc: ChatroomService,\r\n\t\tprivate alertCtrl: AlertController,\r\n\t\tprivate utilSrvc: UtilService\r\n\t) {\r\n\t\tthis.chatroomId = this.navParams.data[\"room\"];\r\n\t\tthis.privateConversation = this.navParams.data[\"privateConversation\"];\r\n\t\tthis.newMessage.roomId = this.chatroomId;\r\n\t\tthis.userService\r\n\t\t\t.getCurrentUser()\r\n\t\t\t.take(2)\r\n\t\t\t.flatMap(user => {\r\n\t\t\t\tthis.currentUser = user;\r\n\t\t\t\tthis.newMessage.sender.id = this.currentUser.id;\r\n\t\t\t\tthis.newMessage.sender.firstName = this.currentUser.firstName;\r\n\t\t\t\tthis.newMessage.sender.lastName = this.currentUser.lastName;\r\n\t\t\t\tthis.newMessage.sender.imgUrl = this.currentUser.profilePhoto.imgUrl;\r\n\t\t\t\tthis.newMessage.seen.push(this.currentUser.id);\r\n\t\t\t\tif (this.privateConversation) {\r\n\t\t\t\t\treturn this.chatroomSrvc.getConversationById(this.chatroomId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.chatroomSrvc.getChatroomById(this.chatroomId);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.subscribe(chatroom => {\r\n\t\t\t\tthis.chatroom = chatroom;\r\n\t\t\t\tif (!this.privateConversation) {\r\n\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\"currentChatroomId\",\r\n\t\t\t\t\t\tJSON.stringify(chatroom.id)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tthis.users = this.chatroom.participants; // TO DO: get all participants' info\r\n\t\t\t});\r\n\t\tthis.chatroomSrvc.getMessages(this.chatroomId).subscribe(\r\n\t\t\tmessages => {\r\n\t\t\t\tif (!this.initLoaded) {\r\n\t\t\t\t\tthis.initLoaded = true;\r\n\t\t\t\t\tthis.loadMessagesIntoPage(messages);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t},\r\n\t\t\t() => {\r\n\t\t\t\tthis.scrollToBottom();\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\tionViewDidLoad() {}\r\n\texit() {\r\n\t\tlocalStorage.removeItem(\"currentChatroomId\");\r\n\t\tthis.chatroomSrvc.leaveChatroom(this.chatroomId, this.currentUser.id);\r\n\t\tthis.navCtrl.setRoot(MeetSomebodyPage);\r\n\t}\r\n\tgoToUser(id) {\r\n\t\tthis.navCtrl.push(UserProfilePage, { user: id });\r\n\t}\r\n\tupdateSeen(messages: Message[], id: string): Message[] {\r\n\t\tlet result = [];\r\n\t\tmessages.forEach(message => {\r\n\t\t\tif (message.seen.indexOf(id) === -1) {\r\n\t\t\t\tthis.chatroomSrvc.updateSeen(this.chatroomId, message.id, id);\r\n\t\t\t}\r\n\t\t\tresult.push(message);\r\n\t\t});\r\n\t\treturn result;\r\n\t}\r\n\tloadMoreMessages(infiniteScroll) {\r\n\t\tthis.initLoaded = false;\r\n\t\tlet env = this;\r\n\t\tif (!this.lastPage) {\r\n\t\t\tthis.chatroomSrvc\r\n\t\t\t\t.getMessages(this.chatroom.id, this.currentKey)\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\tnewMessages => {\r\n\t\t\t\t\t\tif (!env.initLoaded) {\r\n\t\t\t\t\t\t\tnewMessages.pop();\r\n\t\t\t\t\t\t\tenv.loadMessagesIntoPage(newMessages);\r\n\t\t\t\t\t\t\tinfiniteScroll.complete();\r\n\t\t\t\t\t\t\tenv.initLoaded = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\tinfiniteScroll.complete();\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t} else {\r\n\t\t\tinfiniteScroll.complete();\r\n\t\t}\r\n\t}\r\n\topenParticipantsList() {\r\n\t\tif (this.users) {\r\n\t\t\tthis.navCtrl.push(ParticipantsListPage, { participants: this.users });\r\n\t\t} else {\r\n\t\t\tconst alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: \"Wuf Wuf! Sorry Wuf\",\r\n\t\t\t\tmessage: \"Can't access the particiapnts list.\",\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Ok\",\r\n\t\t\t\t\t\trole: \"Ok\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Ok clicked\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\talert.present();\r\n\t\t}\r\n\t}\r\n\tsendMessage() {\r\n\t\tthis.chatroomSrvc.sendMessage(this.chatroom.id, this.newMessage);\r\n\t\tthis.newMessage.content = \"\";\r\n\t}\r\n\tloadMessagesIntoPage(snapshot: any[]) {\r\n\t\tif (snapshot.length < this.messagesPerPage) {\r\n\t\t\tthis.lastPage = true;\r\n\t\t}\r\n\t\t// add position roperty\r\n\t\tlet newMessages = this.snapshotToMessages(snapshot);\r\n\t\tthis.currentKey = snapshot[0][\"key\"];\r\n\r\n\t\t// add position property\r\n\t\tlet updatedMessages = this.utilSrvc.addMessagePosition(\r\n\t\t\tnewMessages,\r\n\t\t\tthis.currentUser.id\r\n\t\t);\r\n\t\tthis.messages = updatedMessages.concat(this.messages);\r\n\t}\r\n\tscrollToBottom() {\r\n\t\twindow.scrollTo(0, document.querySelector(\".end\").scrollHeight);\r\n\t}\r\n\tsnapshotToMessages(snapshot: any[]): Message[] {\r\n\t\tlet messages = [];\r\n\t\tsnapshot.forEach(obj => messages.push(obj.payload.val()));\r\n\t\treturn messages;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chatroom/chatroom.ts","var map = {\n\t\"./af\": 308,\n\t\"./af.js\": 308,\n\t\"./ar\": 309,\n\t\"./ar-dz\": 310,\n\t\"./ar-dz.js\": 310,\n\t\"./ar-kw\": 311,\n\t\"./ar-kw.js\": 311,\n\t\"./ar-ly\": 312,\n\t\"./ar-ly.js\": 312,\n\t\"./ar-ma\": 313,\n\t\"./ar-ma.js\": 313,\n\t\"./ar-sa\": 314,\n\t\"./ar-sa.js\": 314,\n\t\"./ar-tn\": 315,\n\t\"./ar-tn.js\": 315,\n\t\"./ar.js\": 309,\n\t\"./az\": 316,\n\t\"./az.js\": 316,\n\t\"./be\": 317,\n\t\"./be.js\": 317,\n\t\"./bg\": 318,\n\t\"./bg.js\": 318,\n\t\"./bm\": 319,\n\t\"./bm.js\": 319,\n\t\"./bn\": 320,\n\t\"./bn.js\": 320,\n\t\"./bo\": 321,\n\t\"./bo.js\": 321,\n\t\"./br\": 322,\n\t\"./br.js\": 322,\n\t\"./bs\": 323,\n\t\"./bs.js\": 323,\n\t\"./ca\": 324,\n\t\"./ca.js\": 324,\n\t\"./cs\": 325,\n\t\"./cs.js\": 325,\n\t\"./cv\": 326,\n\t\"./cv.js\": 326,\n\t\"./cy\": 327,\n\t\"./cy.js\": 327,\n\t\"./da\": 328,\n\t\"./da.js\": 328,\n\t\"./de\": 329,\n\t\"./de-at\": 330,\n\t\"./de-at.js\": 330,\n\t\"./de-ch\": 331,\n\t\"./de-ch.js\": 331,\n\t\"./de.js\": 329,\n\t\"./dv\": 332,\n\t\"./dv.js\": 332,\n\t\"./el\": 333,\n\t\"./el.js\": 333,\n\t\"./en-au\": 334,\n\t\"./en-au.js\": 334,\n\t\"./en-ca\": 335,\n\t\"./en-ca.js\": 335,\n\t\"./en-gb\": 336,\n\t\"./en-gb.js\": 336,\n\t\"./en-ie\": 337,\n\t\"./en-ie.js\": 337,\n\t\"./en-il\": 338,\n\t\"./en-il.js\": 338,\n\t\"./en-nz\": 339,\n\t\"./en-nz.js\": 339,\n\t\"./eo\": 340,\n\t\"./eo.js\": 340,\n\t\"./es\": 341,\n\t\"./es-do\": 342,\n\t\"./es-do.js\": 342,\n\t\"./es-us\": 343,\n\t\"./es-us.js\": 343,\n\t\"./es.js\": 341,\n\t\"./et\": 344,\n\t\"./et.js\": 344,\n\t\"./eu\": 345,\n\t\"./eu.js\": 345,\n\t\"./fa\": 346,\n\t\"./fa.js\": 346,\n\t\"./fi\": 347,\n\t\"./fi.js\": 347,\n\t\"./fo\": 348,\n\t\"./fo.js\": 348,\n\t\"./fr\": 349,\n\t\"./fr-ca\": 350,\n\t\"./fr-ca.js\": 350,\n\t\"./fr-ch\": 351,\n\t\"./fr-ch.js\": 351,\n\t\"./fr.js\": 349,\n\t\"./fy\": 352,\n\t\"./fy.js\": 352,\n\t\"./gd\": 353,\n\t\"./gd.js\": 353,\n\t\"./gl\": 354,\n\t\"./gl.js\": 354,\n\t\"./gom-latn\": 355,\n\t\"./gom-latn.js\": 355,\n\t\"./gu\": 356,\n\t\"./gu.js\": 356,\n\t\"./he\": 357,\n\t\"./he.js\": 357,\n\t\"./hi\": 358,\n\t\"./hi.js\": 358,\n\t\"./hr\": 359,\n\t\"./hr.js\": 359,\n\t\"./hu\": 360,\n\t\"./hu.js\": 360,\n\t\"./hy-am\": 361,\n\t\"./hy-am.js\": 361,\n\t\"./id\": 362,\n\t\"./id.js\": 362,\n\t\"./is\": 363,\n\t\"./is.js\": 363,\n\t\"./it\": 364,\n\t\"./it.js\": 364,\n\t\"./ja\": 365,\n\t\"./ja.js\": 365,\n\t\"./jv\": 366,\n\t\"./jv.js\": 366,\n\t\"./ka\": 367,\n\t\"./ka.js\": 367,\n\t\"./kk\": 368,\n\t\"./kk.js\": 368,\n\t\"./km\": 369,\n\t\"./km.js\": 369,\n\t\"./kn\": 370,\n\t\"./kn.js\": 370,\n\t\"./ko\": 371,\n\t\"./ko.js\": 371,\n\t\"./ky\": 372,\n\t\"./ky.js\": 372,\n\t\"./lb\": 373,\n\t\"./lb.js\": 373,\n\t\"./lo\": 374,\n\t\"./lo.js\": 374,\n\t\"./lt\": 375,\n\t\"./lt.js\": 375,\n\t\"./lv\": 376,\n\t\"./lv.js\": 376,\n\t\"./me\": 377,\n\t\"./me.js\": 377,\n\t\"./mi\": 378,\n\t\"./mi.js\": 378,\n\t\"./mk\": 379,\n\t\"./mk.js\": 379,\n\t\"./ml\": 380,\n\t\"./ml.js\": 380,\n\t\"./mn\": 381,\n\t\"./mn.js\": 381,\n\t\"./mr\": 382,\n\t\"./mr.js\": 382,\n\t\"./ms\": 383,\n\t\"./ms-my\": 384,\n\t\"./ms-my.js\": 384,\n\t\"./ms.js\": 383,\n\t\"./mt\": 385,\n\t\"./mt.js\": 385,\n\t\"./my\": 386,\n\t\"./my.js\": 386,\n\t\"./nb\": 387,\n\t\"./nb.js\": 387,\n\t\"./ne\": 388,\n\t\"./ne.js\": 388,\n\t\"./nl\": 389,\n\t\"./nl-be\": 390,\n\t\"./nl-be.js\": 390,\n\t\"./nl.js\": 389,\n\t\"./nn\": 391,\n\t\"./nn.js\": 391,\n\t\"./pa-in\": 392,\n\t\"./pa-in.js\": 392,\n\t\"./pl\": 393,\n\t\"./pl.js\": 393,\n\t\"./pt\": 394,\n\t\"./pt-br\": 395,\n\t\"./pt-br.js\": 395,\n\t\"./pt.js\": 394,\n\t\"./ro\": 396,\n\t\"./ro.js\": 396,\n\t\"./ru\": 397,\n\t\"./ru.js\": 397,\n\t\"./sd\": 398,\n\t\"./sd.js\": 398,\n\t\"./se\": 399,\n\t\"./se.js\": 399,\n\t\"./si\": 400,\n\t\"./si.js\": 400,\n\t\"./sk\": 401,\n\t\"./sk.js\": 401,\n\t\"./sl\": 402,\n\t\"./sl.js\": 402,\n\t\"./sq\": 403,\n\t\"./sq.js\": 403,\n\t\"./sr\": 404,\n\t\"./sr-cyrl\": 405,\n\t\"./sr-cyrl.js\": 405,\n\t\"./sr.js\": 404,\n\t\"./ss\": 406,\n\t\"./ss.js\": 406,\n\t\"./sv\": 407,\n\t\"./sv.js\": 407,\n\t\"./sw\": 408,\n\t\"./sw.js\": 408,\n\t\"./ta\": 409,\n\t\"./ta.js\": 409,\n\t\"./te\": 410,\n\t\"./te.js\": 410,\n\t\"./tet\": 411,\n\t\"./tet.js\": 411,\n\t\"./tg\": 412,\n\t\"./tg.js\": 412,\n\t\"./th\": 413,\n\t\"./th.js\": 413,\n\t\"./tl-ph\": 414,\n\t\"./tl-ph.js\": 414,\n\t\"./tlh\": 415,\n\t\"./tlh.js\": 415,\n\t\"./tr\": 416,\n\t\"./tr.js\": 416,\n\t\"./tzl\": 417,\n\t\"./tzl.js\": 417,\n\t\"./tzm\": 418,\n\t\"./tzm-latn\": 419,\n\t\"./tzm-latn.js\": 419,\n\t\"./tzm.js\": 418,\n\t\"./ug-cn\": 420,\n\t\"./ug-cn.js\": 420,\n\t\"./uk\": 421,\n\t\"./uk.js\": 421,\n\t\"./ur\": 422,\n\t\"./ur.js\": 422,\n\t\"./uz\": 423,\n\t\"./uz-latn\": 424,\n\t\"./uz-latn.js\": 424,\n\t\"./uz.js\": 423,\n\t\"./vi\": 425,\n\t\"./vi.js\": 425,\n\t\"./x-pseudo\": 426,\n\t\"./x-pseudo.js\": 426,\n\t\"./yo\": 427,\n\t\"./yo.js\": 427,\n\t\"./zh-cn\": 428,\n\t\"./zh-cn.js\": 428,\n\t\"./zh-hk\": 429,\n\t\"./zh-hk.js\": 429,\n\t\"./zh-tw\": 430,\n\t\"./zh-tw.js\": 430\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 570;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 570\n// module chunks = 1","import { Injectable } from \"@angular/core\";\r\n// import {Http} from '@angular/http';\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport { AngularFirestore } from \"angularfire2/firestore\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/toPromise\";\r\nimport \"rxjs/add/observable/forkJoin\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { Message, Chatroom, Language } from \"../models/models\";\r\n\r\n@Injectable()\r\nexport class ChatroomService {\r\n\tconstructor(private afs: AngularFirestore, private db: AngularFireDatabase) {}\r\n\tgetConversationById(id: string): Observable<Chatroom> {\r\n\t\t// get full detailed data of the required chatroom\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"conversations\")\r\n\t\t\t.doc(`${id}`)\r\n\t\t\t.valueChanges()\r\n\t\t\t.map(chatroom => this.toChatroom(chatroom));\r\n\t}\r\n\r\n\tgetChatroomById(id: string): Observable<Chatroom> {\r\n\t\t// get full detailed data of the required chatroom\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"chatrooms\")\r\n\t\t\t.doc(`${id}`)\r\n\t\t\t.valueChanges()\r\n\t\t\t.map(chatroom => this.toChatroom(chatroom));\r\n\t}\r\n\ttoChatroom(obj: any): Chatroom {\r\n\t\treturn obj;\r\n\t}\r\n\tjoinChatroom(location, language: Language): Observable<any> {\r\n\t\t//switch to using whatever we had\r\n\t\tconsole.log(\"joinChatroom called\");\r\n\t\t//let gender = JSON.parse(localStorage.getItem(\"currentUser\")).gender;\r\n\t\tlet gender = \"male\";\r\n\t\tlet otherGender;\r\n\t\tif (gender === \"male\") {\r\n\t\t\totherGender = \"femaleParticipants\";\r\n\t\t} else {\r\n\t\t\totherGender = \"maleParticipants\";\r\n\t\t}\r\n\t\t// TO DO:\r\n\t\t// 1. [ ] get all rooms\r\n\t\treturn new Observable(observer => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(`chatrooms`)\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.subscribe((chatrooms: any) => {\r\n\t\t\t\t\tobserver.next(chatrooms[0].id);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\tleaveChatroom(chatroomId: string, userId: string): Promise<any> {\r\n\t\t// remove the user from participants list\r\n\t\tlet participant = this.afs\r\n\t\t\t.collection(\"chatrooms\")\r\n\t\t\t.doc(`${chatroomId}`)\r\n\t\t\t.collection(\"participants\")\r\n\t\t\t.doc(`${userId}`);\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tparticipant\r\n\t\t\t\t.delete()\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tresolve(true);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.error(err));\r\n\t\t});\r\n\r\n\t\t// publish a 'left the room  type of message' - a cloud function?\r\n\t\t// remove the chatroom id from local storage\r\n\t}\r\n\tupdateSeen(chatroomId: string, messageId: string, userId: string) {\r\n\t\tconsole.log(\r\n\t\t\t\"updating seen of: \",\r\n\t\t\tchatroomId,\r\n\t\t\tmessageId,\r\n\t\t\t\"with user id: \",\r\n\t\t\tuserId\r\n\t\t);\r\n\t\tlet messageSeen = this.db.list(`messages/${chatroomId}/${messageId}/seen`);\r\n\t\tmessageSeen.push(userId);\r\n\t}\r\n\tsendMessage(chatroomId: string, message: Message) {\r\n\t\tconsole.log(\"sending message: \", message);\r\n\t\tlet messageRef = this.db.list(`messages/${chatroomId}`);\r\n\t\tmessageRef.push(message);\r\n\t}\r\n\t// TO DO: implement actual paginated message getter function\r\n\tgetMessages(chatroomId: string, startKey?: string): Observable<any[]> {\r\n\t\tif (!startKey) {\r\n\t\t\treturn this.db\r\n\t\t\t\t.list(`messages/${chatroomId}`, ref => {\r\n\t\t\t\t\treturn ref.orderByKey().limitToLast(10);\r\n\t\t\t\t})\r\n\t\t\t\t.snapshotChanges();\r\n\t\t} else {\r\n\t\t\treturn this.db\r\n\t\t\t\t.list(`messages/${chatroomId}`, ref => {\r\n\t\t\t\t\treturn ref\r\n\t\t\t\t\t\t.orderByKey()\r\n\t\t\t\t\t\t.endAt(startKey)\r\n\t\t\t\t\t\t.limitToLast(11); // because the first one will be a duplicate\r\n\t\t\t\t})\r\n\t\t\t\t.snapshotChanges();\r\n\t\t}\r\n\t\t/* TO DO - pagination\r\n\t\treturn this.db\r\n\t\t\t.list(`messages/${chatroomId}`, ref =>\r\n\t\t\t\tref\r\n\t\t\t\t\t.orderByKey()\r\n\t\t\t\t\t.startAt(startKey)\r\n\t\t\t\t\t.limitToFirst(offset+1)\r\n\t\t\t)\r\n\t\t\t.valueChanges();*/\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/chatroom.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http} from '@angular/http';\r\n\r\n@Injectable()\r\nexport class VipService {\r\n\tconstructor(\r\n    private http: Http\r\n  ){}\r\n\r\n    presentAd(){\r\n          // https://ionicframework.com/docs/native/admob-free/\r\n\r\n      // get an ad\r\n      // when it finishes give VIP for 1 time?\r\n\r\n    }\r\n    inviteFriend(){\r\n    // https://developers.facebook.com/docs/applinks/overview - app links overview\r\n    // https://developers.facebook.com/docs/applinks/hosting-api - to hot a link to send in options\r\n    // https://ionicframework.com/docs/native/facebook/ - the invite docs\r\n\r\n      // get options for invites - messenger, what'sapp\r\n      // open the invite method / dialog in the messenger\r\n      //send invite?\r\n\r\n    }\r\n    buyVIP(option){\r\n      // complete subscription\r\n      // on success set the user's vip status to true and expiry to today's date plus whatever the number of months in the option\r\n\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/vip.service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { Notification } from \"../models/models\";\r\n\r\n@Injectable()\r\nexport class NotificationService {\r\n\tprivate notifications: Notification[];\r\n\r\n\tconstructor() {\r\n\t\tthis.notifications = [];\r\n\t}\r\n\r\n\tgetNotifications(id: string): Observable<Notification[]> {\r\n\t\t// TO DO: get teh m from the backend, and get teh latest ones only\r\n\t\treturn new Observable(observer => {\r\n\t\t\tobserver.next(this.notifications);\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/notification.service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport {\r\n\tRequest,\r\n\tUser,\r\n\tContact,\r\n\tParticipant,\r\n\tChatroom,\r\n\tMessage\r\n} from \"../models/models\";\r\nimport { UtilService } from \"../shared/util.service\";\r\nimport { AngularFirestore } from \"angularfire2/firestore\";\r\nimport { AngularFireDatabase } from \"angularfire2/database\";\r\nimport * as moment from \"moment\";\r\nimport \"rxjs/add/operator/mergeMap\";\r\n\r\n@Injectable()\r\nexport class RequestService {\r\n\tprivate requests: Request[];\r\n\tconstructor(\r\n\t\tprivate afs: AngularFirestore,\r\n\t\tpublic adb: AngularFireDatabase,\r\n\t\tpublic utilSrvc: UtilService\r\n\t) {\r\n\t\tthis.requests = [];\r\n\t}\r\n\tgetReceivedRequests(id: string): Observable<any[]> {\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"requests_received\")\r\n\t\t\t.doc(`${id}`)\r\n\t\t\t.collection(\"senders\")\r\n\t\t\t.valueChanges();\r\n\t}\r\n\tgetSentRequests(id: string): Observable<any[]> {\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(`${id}`)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.valueChanges();\r\n\t}\r\n\tgetBlockedRequests(id: string): Observable<any[]> {\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"blocks_sent\")\r\n\t\t\t.doc(id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.valueChanges();\r\n\t}\r\n\tupdateRequestSeen(requestId: string, userId: string) {\r\n\t\t//add the id to the seen in the backend\r\n\t}\r\n\tacceptFriendRequest(curUsr: User, request: Request): Promise<any> {\r\n\t\t// Accept a contact request given the sender and receiver userId.\r\n\t\t// 1. create friendships from with this user id\r\n\t\tvar newContact: Contact = {\r\n\t\t\tid: request.sender.id,\r\n\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\timgUrl: request.sender.imgUrl,\r\n\t\t\tfirstName: request.sender.firstName,\r\n\t\t\tlastName: request.sender.lastName\r\n\t\t};\r\n\t\tthis.createFriendship(newContact, curUsr, request.sender.id);\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"friendships\")\r\n\t\t\t.doc(curUsr.id)\r\n\t\t\t.collection(\"friends\")\r\n\t\t\t.doc(request.sender.id)\r\n\t\t\t.set(newContact);\r\n\t}\r\n\r\n\tsendRequest(from: User, to: User): Promise<any> {\r\n\t\tlet newRequest: Request = {\r\n\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\tseen: [],\r\n\t\t\tsender: {\r\n\t\t\t\tid: from.id,\r\n\t\t\t\tfirstName: from.firstName,\r\n\t\t\t\tlastName: from.lastName,\r\n\t\t\t\timgUrl: from.profilePhoto.imgUrl\r\n\t\t\t},\r\n\t\t\trecipient: {\r\n\t\t\t\tid: to.id,\r\n\t\t\t\tfirstName: to.firstName,\r\n\t\t\t\tlastName: to.lastName,\r\n\t\t\t\timgUrl: to.profilePhoto.imgUrl\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet requestRef = this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(from.id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(to.id)\r\n\t\t\t.set(newRequest);\r\n\r\n\t\t\tlet blockReqRef = this.afs\r\n\t\t\t.collection(\"blocks_sent\")\r\n\t\t\t.doc(from.id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(to.id)\r\n\t\t\t.delete();\r\n\t\t\t\r\n\t\t\treturn Promise.all([requestRef, blockReqRef]);\r\n\t}\r\n\t// Cancel a contact request given the sender and receiver userId.\r\n\trejectRequest(curUsrId: string, senderId: string): Promise<any> {\r\n\t\t// remove received request\r\n\t\tlet receivedReqRef = this.afs\r\n\t\t\t.collection(\"requests_received\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.collection(\"senders\")\r\n\t\t\t.doc(senderId)\r\n\t\t\t.delete();\r\n\t\t//should be done on the server\r\n\t\tlet sentReqRef = this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(senderId)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.delete();\r\n\r\n\t\treturn Promise.all([receivedReqRef, sentReqRef]);\r\n\t}\r\n\t// Cancel a contact request given the sender and receiver userId.\r\n\tcancelRequest(curUsrId: string, recepientId: string): Promise<any> {\r\n\t\t// remove sent request\r\n\t\tlet sentReqRef = this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(recepientId)\r\n\t\t\t.delete();\r\n\t\t// should be done on the server\r\n\t\tlet receivedReqRef = this.afs\r\n\t\t\t.collection(\"requests_received\")\r\n\t\t\t.doc(recepientId)\r\n\t\t\t.collection(\"senders\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.delete();\r\n\r\n\t\treturn Promise.all([receivedReqRef, sentReqRef]);\r\n\t}\r\n\tblock(from: User, to: User): Promise<any> {\r\n\t\tlet newRequest: Request = {\r\n\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\tseen: [],\r\n\t\t\tsender: {\r\n\t\t\t\tid: from.id,\r\n\t\t\t\tfirstName: from.firstName,\r\n\t\t\t\tlastName: from.lastName,\r\n\t\t\t\timgUrl: from.profilePhoto.imgUrl\r\n\t\t\t},\r\n\t\t\trecipient: {\r\n\t\t\t\tid: to.id,\r\n\t\t\t\tfirstName: to.firstName,\r\n\t\t\t\tlastName: to.lastName,\r\n\t\t\t\timgUrl: to.profilePhoto.imgUrl\r\n\t\t\t}\r\n\t\t};\r\n\t\t// 2. set the relations collection\r\n\t\tlet blockReqRef = this.afs\r\n\t\t\t.collection(\"blocks_sent\")\r\n\t\t\t.doc(from.id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(to.id)\r\n\t\t\t.set(newRequest);\r\n\t\t//3. remove from requests if he’s there\r\n\t\t// this user's friend request\r\n\t\tlet removeFriendRelRef = this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(from.id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(to.id)\r\n\t\t\t.delete();\r\n\t\t// other user request if it exists\r\n\t\tlet removeOtherFriendRelRef = this.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(to.id)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(from.id)\r\n\t\t\t.delete();\r\n\t\treturn Promise.all([\r\n\t\t\tblockReqRef,\r\n\t\t\tremoveFriendRelRef,\r\n\t\t\tremoveOtherFriendRelRef\r\n\t\t]);\r\n\t}\r\n\tunblock(fromId: string, toId: string): Promise<any> {\r\n\t\t/*\r\n\t\t\t1 remove from blocked list\r\n\t\t*/\r\n\t\treturn this.afs\r\n\t\t\t.collection(\"blocks_sent\")\r\n\t\t\t.doc(fromId)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(toId)\r\n\t\t\t.delete();\r\n\t}\r\n\thasLiked(fromId: string, toId: string): Promise<boolean> {\r\n\t\t// check the relationship whether current user is set to true or not while the other is not\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(\"requests_sent\")\r\n\t\t\t\t.doc(fromId)\r\n\t\t\t\t.collection(\"recipients\")\r\n\t\t\t\t.doc(toId)\r\n\t\t\t\t.snapshotChanges()\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log(\"this user was liked already: \", res.payload.exists);\r\n\t\t\t\t\t\tresolve(res.payload.exists);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => reject(err)\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\tcreateFriendship(newVal, receiver: User, senderId) {\r\n\t\t// other user's relationship and request logic\r\n\t\tconst newValue = newVal;\r\n\t\t// need to get the toId wildcard from the URL\r\n\t\tconst requestReceiverId = receiver.id; //context.params.fromId;\r\n\t\tconst requestSenderId = senderId; //context.params.toId;\r\n\t\tconst conversationId = this.utilSrvc.uniqueRelId(\r\n\t\t\trequestReceiverId,\r\n\t\t\trequestSenderId\r\n\t\t);\r\n\t\tconst newContact = {\r\n\t\t\tid: requestReceiverId,\r\n\t\t\tcreatedAt: newValue.createdAt,\r\n\t\t\timgUrl: receiver.profilePhoto.imgUrl,\r\n\t\t\tfirstName: receiver.firstName,\r\n\t\t\tlastName: receiver.lastName\r\n\t\t};\r\n\t\t// 2. the cloud function creates the second one\r\n\t\tthis.afs\r\n\t\t\t.collection(\"friendships\")\r\n\t\t\t.doc(requestSenderId)\r\n\t\t\t.collection(\"friends\")\r\n\t\t\t.doc(requestReceiverId)\r\n\t\t\t.set(newContact);\r\n\t\t// 3. delete the request sent\r\n\t\tthis.afs\r\n\t\t\t.collection(\"requests_sent\")\r\n\t\t\t.doc(requestSenderId)\r\n\t\t\t.collection(\"recipients\")\r\n\t\t\t.doc(requestReceiverId)\r\n\t\t\t.delete();\r\n\t\t// 3.5 delete the request received\r\n\t\tthis.afs\r\n\t\t\t.collection(\"requests_received\")\r\n\t\t\t.doc(requestReceiverId)\r\n\t\t\t.collection(\"senders\")\r\n\t\t\t.doc(requestSenderId)\r\n\t\t\t.delete();\r\n\t\t// 4. the cloud function creates the conversation\r\n\t\tconst senderUserRef = this.afs\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(requestSenderId)\r\n\t\t\t.valueChanges();\r\n\t\tconst recipientUserRef = this.afs\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(requestReceiverId)\r\n\t\t\t.valueChanges();\r\n\t\tlet senderUser;\r\n\t\tlet recipientUser;\r\n\t\tlet senderParticipant: Participant;\r\n\t\tlet recipientParticipant: Participant;\r\n\t\tlet participants: Participant[];\r\n\t\tlet newChatroom: Chatroom;\r\n\t\tlet newConversationDoc;\r\n\t\tlet newMessage: Message;\r\n\t\tsenderUserRef\r\n\t\t\t.flatMap(snUsr => {\r\n\t\t\t\tsenderUser = snUsr;\r\n\t\t\t\tsenderParticipant = {\r\n\t\t\t\t\tid: senderUser.id,\r\n\t\t\t\t\tfirstName: senderUser.firstName,\r\n\t\t\t\t\tlastName: senderUser.lastName,\r\n\t\t\t\t\timgUrl: senderUser.profilePhoto.imgUrl\r\n\t\t\t\t};\r\n\t\t\t\treturn recipientUserRef;\r\n\t\t\t})\r\n\t\t\t.subscribe(recUsr => {\r\n\t\t\t\trecipientUser = recUsr;\r\n\t\t\t\trecipientParticipant = {\r\n\t\t\t\t\tid: recipientUser.id,\r\n\t\t\t\t\tfirstName: recipientUser.firstName,\r\n\t\t\t\t\tlastName: recipientUser.lastName,\r\n\t\t\t\t\timgUrl: recipientUser.profilePhoto.imgUrl\r\n\t\t\t\t};\r\n\t\t\t\tparticipants = [senderParticipant, recipientParticipant];\r\n\t\t\t\tnewChatroom = {\r\n\t\t\t\t\tid: conversationId,\r\n\t\t\t\t\tparticipants: participants,\r\n\t\t\t\t\tmessages: []\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"recUsr: \",\r\n\t\t\t\t\trecUsr,\r\n\t\t\t\t\t\"senderParticipant: \",\r\n\t\t\t\t\tsenderParticipant,\r\n\t\t\t\t\t\"recipientParticipant: \",\r\n\t\t\t\t\trecipientParticipant,\r\n\t\t\t\t\t\"newChatroom: \",\r\n\t\t\t\t\tnewChatroom,\r\n\t\t\t\t\t\"participants: \",\r\n\t\t\t\t\tparticipants\r\n\t\t\t\t);\r\n\t\t\t\t//creating the conversation in the firestore\r\n\t\t\t\tthis.afs\r\n\t\t\t\t\t.collection(\"conversations\")\r\n\t\t\t\t\t.doc(newChatroom.id)\r\n\t\t\t\t\t.set(newChatroom);\r\n\t\t\t\t// 5. the cloud function creates the message with the default one\r\n\t\t\t\tnewMessage = {\r\n\t\t\t\t\tcontent: \"Woof, Woof, You are now connected!\",\r\n\t\t\t\t\tcreatedAt: moment().format(\"DD/MM/YYYY, hh:mm:ss\"),\r\n\t\t\t\t\tid: this.utilSrvc.guid() + newChatroom.id + \"001\",\r\n\t\t\t\t\troomId: newChatroom.id,\r\n\t\t\t\t\tsender: {\r\n\t\t\t\t\t\tid: \"001\",\r\n\t\t\t\t\t\tfirstName: \"Woof\",\r\n\t\t\t\t\t\tlastName: \"Woof\",\r\n\t\t\t\t\t\timgUrl: \"assets/images/other-assets/profile.png\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tseen: []\r\n\t\t\t\t};\r\n\t\t\t\tthis.adb\r\n\t\t\t\t\t.object(`/messages/${newMessage.roomId}/${newMessage.id}`)\r\n\t\t\t\t\t.set(newMessage);\r\n\t\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/request.service.ts","import { Observable } from \"rxjs/Observable\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Contact } from \"../models/models\";\r\nimport { AngularFirestore } from \"angularfire2/firestore\";\r\n\r\n@Injectable()\r\nexport class ContactService {\r\n\tprivate contacts: Contact[];\r\n\tconstructor(private afs: AngularFirestore) {\r\n\t\tthis.contacts = [];\r\n\t}\r\n\t// Get an object from Firestore by its path. For eg: firestore.get('users/' + userId) to get a user object.\r\n\tgetContacts(id: string): Observable<Contact[]> {\r\n\t\treturn new Observable(observer => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(\"friendships\")\r\n\t\t\t\t.doc(`${id}`)\r\n\t\t\t\t.collection(\"friends\")\r\n\t\t\t\t.valueChanges()\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\trelationships => {\r\n\t\t\t\t\t\tlet result = [];\r\n\t\t\t\t\t\trelationships.forEach(relationship => {\r\n\t\t\t\t\t\t\tresult.push(this.relationshipToContact(relationship));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tobserver.next(result);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthrow new Error(\"Error: Getting document:\"); // throw an Error\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\trelationshipToContact(data: any): Contact {\r\n\t\tlet contact: Contact = {\r\n\t\t\tid: data.id,\r\n\t\t\tcreatedAt: data.createdAt,\r\n\t\t\tlastMessage: data.lastMessage,\r\n\t\t\timgUrl: data.imgUrl,\r\n\t\t\tfirstName: data.firstName,\r\n\t\t\tlastName: data.lastName\r\n\t\t};\r\n\t\treturn contact;\r\n\t}\r\n\tisFriend(curUsrId, toId): Promise<boolean> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.afs\r\n\t\t\t\t.collection(\"friendships\")\r\n\t\t\t\t.doc(curUsrId)\r\n\t\t\t\t.collection(\"friends\")\r\n\t\t\t\t.doc(toId)\r\n\t\t\t\t.snapshotChanges()\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log(\"this user is friend already: \", res.payload.exists);\r\n\t\t\t\t\t\tresolve(res.payload.exists);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => reject(err)\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\tremoveFriend(curUsrId, otherId): Promise<any> {\r\n\t\t//this user friendship\r\n\t\tlet thisUserRef = this.afs\r\n\t\t\t.collection(\"friendships\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.collection(\"friends\")\r\n\t\t\t.doc(otherId)\r\n\t\t\t.delete()\r\n\t\t\t.catch(err => console.error(err));\r\n\r\n\t\t//other user friendsgip\r\n\t\tlet otherUserRef = this.afs\r\n\t\t\t.collection(\"friendships\")\r\n\t\t\t.doc(otherId)\r\n\t\t\t.collection(\"friends\")\r\n\t\t\t.doc(curUsrId)\r\n\t\t\t.delete()\r\n\t\t\t.catch(err => console.error(err));\r\n\t\treturn Promise.all([thisUserRef, otherUserRef]);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/contact.service.ts","import { Injectable } from \"@angular/core\";\r\nimport { AlertController, Alert } from \"ionic-angular\";\r\n\r\n@Injectable()\r\nexport class AlertService {\r\n\tprivate alert: Alert;\r\n\tconstructor(private alertCtrl: AlertController) {}\r\n\r\n\t// Show a pop up alert.\r\n\tpublic showAlert(\r\n\t\ttitle: string,\r\n\t\tbutton: string,\r\n\t\tsubTitle?: string\r\n\t): Promise<any> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tsubTitle: subTitle,\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: button,\r\n\t\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\tthis.alert.present();\r\n\t\t});\r\n\t}\r\n\r\n\t// Show a confirmation pop up, returns a boolean if the user has confirmed or canceled.\r\n\tpublic showConfirm(\r\n\t\ttitle: string,\r\n\t\tsubTitle: string,\r\n\t\tcancelButton: string,\r\n\t\tokButton: string\r\n\t): Promise<boolean> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: title,\r\n\t\t\t\tsubTitle: subTitle,\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: cancelButton,\r\n\t\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tresolve(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: okButton,\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\tthis.alert.present();\r\n\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/alert.service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport \"rxjs/add/operator/map\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\nimport { Environment } from \"../environment/environment\";\r\nimport firebase from \"firebase\";\r\nimport { UserService } from \"../services/services\";\r\nimport { User } from \"../models/models\";\r\nimport { AngularFireAuth } from \"angularfire2/auth\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport {\r\n\tAngularFirestore,\r\n\tAngularFirestoreDocument,\r\n\tAngularFirestoreCollection\r\n} from \"angularfire2/firestore\";\r\n/*\r\n  Generated class for the AuthService provider.\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular 2 DI.\r\n*/\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n\tprivate fbSubscription: Subscription;\r\n\tprivate fsSubscription: Subscription;\r\n\tprivate user: User;\r\n\tprivate userDetails: firebase.User = null;\r\n\t// to break the circular dependency injection - will refactor later - perhaps with inheritance\r\n\tconstructor(\r\n\t\tpublic http: Http,\r\n\t\tprivate _firebaseAuth: AngularFireAuth,\r\n\t\tpublic userService: UserService,\r\n\t\tprivate afs: AngularFirestore\r\n\t) {\r\n\t\tconsole.log(\"Hello AuthService\");\r\n\t}\r\n\tsignInWithFacebook(): Promise<User> {\r\n\t\t//check for platform if web return a promise,\r\n\t\tif (document.URL.includes(\"https://\") || document.URL.includes(\"http://\")) {\r\n\t\t\tconsole.log(\"we're in the browser\");\r\n\t\t\tlet provider = new firebase.auth.FacebookAuthProvider();\r\n\t\t\tprovider.addScope(\"email\");\r\n\t\t\tprovider.addScope(\"public_profile\");\r\n\t\t\tif (\r\n\t\t\t\t/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n\t\t\t\t\tnavigator.userAgent\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\t// some code..\r\n\t\t\t\tconsole.log(\"we're on mobile\");\r\n\t\t\t\treturn this._firebaseAuth.auth.signInWithPopup(provider);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"we're on desktop\");\r\n\t\t\t\treturn this._firebaseAuth.auth.signInWithPopup(provider);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// code for handling fb login when deployed to device with cordova\r\n\t\t\tconsole.log(\r\n\t\t\t\t\"we're on the device natively\"\r\n\t\t\t); /*\r\n\t\t\treturn this.facebook.login(['email', 'public_profile']).then( (response) => {\r\n\t\t\t\tconst facebookCredential = firebase.auth.FacebookAuthProvider\r\n\t\t\t\t.credential(response.authResponse.accessToken);\r\n\t\t\t\t//just to see what data is usully returned - for mocking purposes\r\n\t\t\t\tconsole.log('response: ', response, 'credential: ', facebookCredential);\r\n\t\t\t\treturn firebase.auth().signInWithCredential(facebookCredential);\r\n\t\t\t}).catch((error) => { console.error(error) });*/\r\n\t\t}\r\n\t}\r\n\tsignInWithGoogle() {\r\n\t\treturn this._firebaseAuth.auth.signInWithRedirect(\r\n\t\t\tnew firebase.auth.GoogleAuthProvider()\r\n\t\t);\r\n\t}\r\n\tisLoggedIn() {\r\n\t\tif (this.userDetails == null) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\tlogout(): Promise<any> {\r\n\t\tlocalStorage.removeItem(\"currentUser\");\r\n\t\treturn firebase.auth().signOut();\r\n\t}\r\n\tpublic get(path: string): Promise<AngularFirestoreDocument<{}>> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tresolve(this.afs.doc(path));\r\n\t\t});\r\n\t}\r\n\r\n\t// Get the userData from Firestore of the logged in user on Firebase.\r\n\t/*public getUserData(): Promise<User> {\r\n\t\tthis.http\r\n\t\t\t.get(\"https://us-central1-huggable-9e981.cloudfunctions.net/test\")\r\n\t\t\t.subscribe(data => {\r\n\t\t\t\tconsole.log(\"data\", data);\r\n\t\t\t});\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tif (this.user) {\r\n\t\t\t\tresolve(this.user);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.getUser();\r\n\t\t\t}\r\n\t\t});\r\n\t}*/\r\n\t/*\r\n\t// Change password of the logged in user on Firebase.\r\n\tpublic changePassword(password: string): Promise<any> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._firebaseAuth.auth.currentUser\r\n\t\t\t\t.updatePassword(password)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tresolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Login to Firebase using email and password combination.\r\n\tpublic loginWithEmail(email: string, password: string): Promise<any> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._firebaseAuth.auth\r\n\t\t\t\t.signInWithEmailAndPassword(email, password)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tresolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Register an account on Firebase with email and password combination.\r\n\tpublic registerWithEmail(email: string, password: string): Promise<any> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._firebaseAuth.auth\r\n\t\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tresolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}*/\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth.service.ts","import { AuthService } from \"./../../services/auth.service\";\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController } from \"ionic-angular\";\r\n\r\n/**\r\n * Generated class for the FilterPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n\tselector: \"page-filter\",\r\n\ttemplateUrl: \"filter.html\"\r\n})\r\nexport class FilterPage {\r\n\toption = \"friends\";\r\n\twithoption = \"girl\";\r\n\tlanguages: any[];\r\n\tdualValue2 = { lower: 18, upper: 30 };\r\n\tconstructor(private navCtrl: NavController, private authSrvc: AuthService) {}\r\n\t/*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad FilterPage\");\r\n\t}\r\n\tsaveFilter() {\r\n\t\tthis.navCtrl.pop();\r\n\t}\r\n\r\n\tchange(d) {\r\n\t\t// \tconsole.log(d);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/filter/filter.ts","import { PrelaunchPage } from \"./../prelaunch/prelaunch\";\r\nimport { WaitlistPage } from \"./../waitlist/waitlist\";\r\nimport { UserService } from \"./../../services/user.service\";\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController, LoadingController } from \"ionic-angular\";\r\nimport { MeetSomebodyPage } from \"../meet-somebody/meet-somebody\";\r\nimport { AuthService } from \"../../services/services\";\r\nimport { UtilService } from \"../../shared/util.service\";\r\n@Component({\r\n\tselector: \"page-login\",\r\n\ttemplateUrl: \"login.html\"\r\n})\r\nexport class LoginPage {\r\n\tloader: any;\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tpublic loadingCtrl: LoadingController,\r\n\t\tpublic authSrvc: AuthService,\r\n\t\tpublic userSrvc: UserService,\r\n\t\tprivate utilSrvc: UtilService\r\n\t) {}\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad LoginPage\");\r\n\t}\r\n\tgoToMeetSomebody() {\r\n\t\tthis.navCtrl.setRoot(MeetSomebodyPage);\r\n\t}\r\n\tgoToPrelaunchPage() {\r\n\t\tthis.navCtrl.setRoot(PrelaunchPage);\r\n\t}\r\n\tfacebookLogin(lastTry?: boolean): void {\r\n\t\tvar env = this;\r\n\t\tthis.authSrvc\r\n\t\t\t.signInWithFacebook()\r\n\t\t\t.then(\r\n\t\t\t\tauthData => {\r\n\t\t\t\t\tthis.loader\r\n\t\t\t\t\t\t.dismiss()\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tthis.userSrvc.setAccessToken(authData[\"credential\"].accessToken);\r\n\t\t\t\t\t\t\t//should be after the user has been set\r\n\t\t\t\t\t\t\tthis.userSrvc\r\n\t\t\t\t\t\t\t\t.setCurrentUser(authData[\"user\"][\"providerData\"][0])\r\n\t\t\t\t\t\t\t\t.then(() => env.goToMeetSomebody())\r\n\t\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\terror =>\r\n\t\t\t\t\tthis.loader\r\n\t\t\t\t\t\t.dismiss()\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tconsole.error(\"login failed: \", error);\r\n\t\t\t\t\t\t\tthis.utilSrvc.doAlert(error.message, {\r\n\t\t\t\t\t\t\t\ttext: \"Ok\",\r\n\t\t\t\t\t\t\t\trole: \"cancel\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.catch(() => {\r\n\t\t\t\tif (lastTry) {\r\n\t\t\t\t\t// do nothing, this was a last try\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.facebookLogin(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tthis.presentLoading();\r\n\t}\r\n\tpresentLoading() {\r\n\t\tthis.loader = this.loadingCtrl.create({\r\n\t\t\tcontent: \"Authenticating...\"\r\n\t\t});\r\n\t\tthis.loader.present();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","export const LANGUAGES = [\r\n\t{\r\n\t\tid: \"0\",\r\n\t\tname: \"English\"\r\n\t},\r\n\t{\r\n\t\tid: \"1\",\r\n\t\tname: \"español\"\r\n\t},\r\n\t{\r\n\t\tid: \"2\",\r\n\t\tname: \"español (Latinoamérica)\"\r\n\t},\r\n\t{\r\n\t\tid: \"3\",\r\n\t\tname: \"हिन्दी\"\r\n\t},\r\n\t{\r\n\t\tid: \"4\",\r\n\t\tname: \"français\"\r\n\t},\r\n\t{\r\n\t\tid: \"5\",\r\n\t\tname: \"português (Portugal)\"\r\n\t},\r\n\t{\r\n\t\tid: \"6\",\r\n\t\tname: \"日本語\"\r\n\t},\r\n\t{\r\n\t\tid: \"7\",\r\n\t\tname: \"Nederlands\"\r\n\t},\r\n\t{\r\n\t\tid: \"8\",\r\n\t\tname: \"português (Brasil)\"\r\n\t},\r\n\t{\r\n\t\tid: \"9\",\r\n\t\tname: \"Deutsch\"\r\n\t},\r\n\t{\r\n\t\tid: \"10\",\r\n\t\tname: \"русский\"\r\n\t},\r\n\t{\r\n\t\tid: \"11\",\r\n\t\tname: \"italiano\"\r\n\t},\r\n\t{\r\n\t\tid: \"12\",\r\n\t\tname: \"Türkçe\"\r\n\t},\r\n\t{\r\n\t\tid: \"13\",\r\n\t\tname: \"العربية\"\r\n\t},\r\n\t{\r\n\t\tid: \"14\",\r\n\t\tname: \"ไทย\"\r\n\t},\r\n\t{\r\n\t\tid: \"15\",\r\n\t\tname: \"한국어\"\r\n\t},\r\n\t{\r\n\t\tid: \"16\",\r\n\t\tname: \"中文 (简体)\"\r\n\t},\r\n\t{\r\n\t\tid: \"17\",\r\n\t\tname: \"中文 (繁體)\"\r\n\t},\r\n\t{\r\n\t\tid: \"18\",\r\n\t\tname: \"Acoli\"\r\n\t},\r\n\t{\r\n\t\tid: \"19\",\r\n\t\tname: \"Afrikaans\"\r\n\t},\r\n\t{\r\n\t\tid: \"20\",\r\n\t\tname: \"Akan\"\r\n\t},\r\n\t{\r\n\t\tid: \"21\",\r\n\t\tname: \"Azerbaycan dili\"\r\n\t},\r\n\t{\r\n\t\tid: \"22\",\r\n\t\tname: \"Balinese\"\r\n\t},\r\n\t{\r\n\t\tid: \"23\",\r\n\t\tname: \"Bork, bork, bork!\"\r\n\t},\r\n\t{\r\n\t\tid: \"24\",\r\n\t\tname: \"bosanski\"\r\n\t},\r\n\t{\r\n\t\tid: \"25\",\r\n\t\tname: \"brezhoneg\"\r\n\t},\r\n\t{\r\n\t\tid: \"26\",\r\n\t\tname: \"català\"\r\n\t},\r\n\t{\r\n\t\tid: \"27\",\r\n\t\tname: \"Cebuano\"\r\n\t},\r\n\t{\r\n\t\tid: \"28\",\r\n\t\tname: \"čeština\"\r\n\t},\r\n\t{\r\n\t\tid: \"29\",\r\n\t\tname: \"chiShona\"\r\n\t},\r\n\t{\r\n\t\tid: \"30\",\r\n\t\tname: \"Corsican\"\r\n\t},\r\n\t{\r\n\t\tid: \"31\",\r\n\t\tname: \"Cymraeg\"\r\n\t},\r\n\t{\r\n\t\tid: \"32\",\r\n\t\tname: \"dansk\"\r\n\t},\r\n\t{\r\n\t\tid: \"33\",\r\n\t\tname: \"Èdè Yorùbá\"\r\n\t},\r\n\t{\r\n\t\tid: \"34\",\r\n\t\tname: \"eesti\"\r\n\t},\r\n\t{\r\n\t\tid: \"35\",\r\n\t\tname: \"Elmer Fudd\"\r\n\t},\r\n\t{\r\n\t\tid: \"36\",\r\n\t\tname: \"esperanto\"\r\n\t},\r\n\t{\r\n\t\tid: \"37\",\r\n\t\tname: \"euskara\"\r\n\t},\r\n\t{\r\n\t\tid: \"38\",\r\n\t\tname: \"Eʋegbe\"\r\n\t},\r\n\t{\r\n\t\tid: \"39\",\r\n\t\tname: \"Filipino\"\r\n\t},\r\n\t{\r\n\t\tid: \"40\",\r\n\t\tname: \"føroyskt\"\r\n\t},\r\n\t{\r\n\t\tid: \"41\",\r\n\t\tname: \"Frysk\"\r\n\t},\r\n\t{\r\n\t\tid: \"42\",\r\n\t\tname: \"Ga\"\r\n\t},\r\n\t{\r\n\t\tid: \"43\",\r\n\t\tname: \"Gaeilge\"\r\n\t},\r\n\t{\r\n\t\tid: \"44\",\r\n\t\tname: \"Gàidhlig\"\r\n\t},\r\n\t{\r\n\t\tid: \"45\",\r\n\t\tname: \"galego\"\r\n\t},\r\n\t{\r\n\t\tid: \"46\",\r\n\t\tname: \"Guarani\"\r\n\t},\r\n\t{\r\n\t\tid: \"47\",\r\n\t\tname: \"Hacker\"\r\n\t},\r\n\t{\r\n\t\tid: \"48\",\r\n\t\tname: \"Haitian Cerole\"\r\n\t},\r\n\t{\r\n\t\tid: \"49\",\r\n\t\tname: \"Hausa\"\r\n\t},\r\n\t{\r\n\t\tid: \"50\",\r\n\t\tname: \"hrvatski\"\r\n\t},\r\n\t{\r\n\t\tid: \"51\",\r\n\t\tname: \"Ichibemba\"\r\n\t},\r\n\t{\r\n\t\tid: \"52\",\r\n\t\tname: \"Igbo\"\r\n\t},\r\n\t{\r\n\t\tid: \"53\",\r\n\t\tname: \"Ikirundi\"\r\n\t},\r\n\t{\r\n\t\tid: \"54\",\r\n\t\tname: \"Indonesia\"\r\n\t},\r\n\t{\r\n\t\tid: \"55\",\r\n\t\tname: \"Interlingua\"\r\n\t},\r\n\t{\r\n\t\tid: \"56\",\r\n\t\tname: \"isiZulu\"\r\n\t},\r\n\t{\r\n\t\tid: \"57\",\r\n\t\tname: \"íslenska\"\r\n\t},\r\n\t{\r\n\t\tid: \"58\",\r\n\t\tname: \"Javanese\"\r\n\t},\r\n\t{\r\n\t\tid: \"59\",\r\n\t\tname: \"Kinyarwanda\"\r\n\t},\r\n\t{\r\n\t\tid: \"60\",\r\n\t\tname: \"Kiswahili\"\r\n\t},\r\n\t{\r\n\t\tid: \"61\",\r\n\t\tname: \"Klingon\"\r\n\t},\r\n\t{\r\n\t\tid: \"62\",\r\n\t\tname: \"Kongo\"\r\n\t},\r\n\t{\r\n\t\tid: \"63\",\r\n\t\tname: \"kreol morisien\"\r\n\t},\r\n\t{\r\n\t\tid: \"64\",\r\n\t\tname: \"Krio (Sierra Leone)\"\r\n\t},\r\n\t{\r\n\t\tid: \"65\",\r\n\t\tname: \"Latin\"\r\n\t},\r\n\t{\r\n\t\tid: \"66\",\r\n\t\tname: \"latviešu\"\r\n\t},\r\n\t{\r\n\t\tid: \"68\",\r\n\t\tname: \"lea fakatonga\"\r\n\t},\r\n\t{\r\n\t\tid: \"69\",\r\n\t\tname: \"lietuvių\"\r\n\t},\r\n\t{\r\n\t\tid: \"70\",\r\n\t\tname: \"lingála\"\r\n\t},\r\n\t{\r\n\t\tid: \"71\",\r\n\t\tname: \"Lozi\"\r\n\t},\r\n\t{\r\n\t\tid: \"72\",\r\n\t\tname: \"Luba-Lulua\"\r\n\t},\r\n\t{\r\n\t\tid: \"73\",\r\n\t\tname: \"Luganda\"\r\n\t},\r\n\t{\r\n\t\tid: \"74\",\r\n\t\tname: \"magyar\"\r\n\t},\r\n\t{\r\n\t\tid: \"75\",\r\n\t\tname: \"Malagasy\"\r\n\t},\r\n\t{\r\n\t\tid: \"76\",\r\n\t\tname: \"Malti\"\r\n\t},\r\n\t{\r\n\t\tid: \"77\",\r\n\t\tname: \"Maori\"\r\n\t},\r\n\t{\r\n\t\tid: \"78\",\r\n\t\tname: \"Melayu\"\r\n\t},\r\n\t{\r\n\t\tid: \"79\",\r\n\t\tname: \"Nigerian Pidgin\"\r\n\t},\r\n\t{\r\n\t\tid: \"80\",\r\n\t\tname: \"norsk\"\r\n\t},\r\n\t{\r\n\t\tid: \"81\",\r\n\t\tname: \"Northern Sotho\"\r\n\t},\r\n\t{\r\n\t\tid: \"82\",\r\n\t\tname: \"Nyanja\"\r\n\t},\r\n\t{\r\n\t\tid: \"83\",\r\n\t\tname: \"nynorsk\"\r\n\t},\r\n\t{\r\n\t\tid: \"84\",\r\n\t\tname: \"o‘zbek\"\r\n\t},\r\n\t{\r\n\t\tid: \"85\",\r\n\t\tname: \"ʻŌlelo Hawaiʻi\"\r\n\t},\r\n\t{\r\n\t\tid: \"86\",\r\n\t\tname: \"Occitan\"\r\n\t},\r\n\t{\r\n\t\tid: \"87\",\r\n\t\tname: \"Oromoo\"\r\n\t},\r\n\t{\r\n\t\tid: \"88\",\r\n\t\tname: \"polski\"\r\n\t},\r\n\t{\r\n\t\tid: \"89\",\r\n\t\tname: \"română\"\r\n\t},\r\n\t{\r\n\t\tid: \"90\",\r\n\t\tname: \"rumantsch\"\r\n\t},\r\n\t{\r\n\t\tid: \"91\",\r\n\t\tname: \"Runasimi\"\r\n\t},\r\n\t{\r\n\t\tid: \"92\",\r\n\t\tname: \"Runyankore\"\r\n\t},\r\n\t{\r\n\t\tid: \"93\",\r\n\t\tname: \"Seychellois Creole\"\r\n\t},\r\n\t{\r\n\t\tid: \"94\",\r\n\t\tname: \"shqip\"\r\n\t},\r\n\t{\r\n\t\tid: \"95\",\r\n\t\tname: \"Sindhi\"\r\n\t},\r\n\t{\r\n\t\tid: \"96\",\r\n\t\tname: \"slovenčina\"\r\n\t},\r\n\t{\r\n\t\tid: \"97\",\r\n\t\tname: \"slovenščina\"\r\n\t},\r\n\t{\r\n\t\tid: \"98\",\r\n\t\tname: \"Soomaali\"\r\n\t},\r\n\t{\r\n\t\tid: \"99\",\r\n\t\tname: \"Southern Sotho\"\r\n\t},\r\n\t{\r\n\t\tid: \"100\",\r\n\t\tname: \"srpski (Crna Gora)\"\r\n\t},\r\n\t{\r\n\t\tid: \"101\",\r\n\t\tname: \"Sundanese\"\r\n\t},\r\n\t{\r\n\t\tid: \"102\",\r\n\t\tname: \"suomi\"\r\n\t},\r\n\t{\r\n\t\tid: \"103\",\r\n\t\tname: \"svenska\"\r\n\t},\r\n\t{\r\n\t\tid: \"104\",\r\n\t\tname: \"Tswana\"\r\n\t},\r\n\t{\r\n\t\tid: \"105\",\r\n\t\tname: \"Tumbuka\"\r\n\t},\r\n\t{\r\n\t\tid: \"106\",\r\n\t\tname: \"Turkmen\"\r\n\t},\r\n\t{\r\n\t\tid: \"107\",\r\n\t\tname: \"Twi\"\r\n\t},\r\n\t{\r\n\t\tid: \"108\",\r\n\t\tname: \"Wolof\"\r\n\t},\r\n\t{\r\n\t\tid: \"109\",\r\n\t\tname: \"Xhosa\"\r\n\t},\r\n\t{\r\n\t\tid: \"110\",\r\n\t\tname: \"Ελληνικά\"\r\n\t},\r\n\t{\r\n\t\tid: \"111\",\r\n\t\tname: \"беларуская\"\r\n\t},\r\n\t{\r\n\t\tid: \"112\",\r\n\t\tname: \"български\"\r\n\t},\r\n\t{\r\n\t\tid: \"113\",\r\n\t\tname: \"кыргызча\"\r\n\t},\r\n\t{\r\n\t\tid: \"114\",\r\n\t\tname: \"қазақ тілі\"\r\n\t},\r\n\t{\r\n\t\tid: \"115\",\r\n\t\tname: \"македонски\"\r\n\t},\r\n\t{\r\n\t\tid: \"116\",\r\n\t\tname: \"монгол\"\r\n\t},\r\n\t{\r\n\t\tid: \"117\",\r\n\t\tname: \"српски\"\r\n\t},\r\n\t{\r\n\t\tid: \"118\",\r\n\t\tname: \"татар\"\r\n\t},\r\n\t{\r\n\t\tid: \"119\",\r\n\t\tname: \"тоҷикӣ\"\r\n\t},\r\n\t{\r\n\t\tid: \"120\",\r\n\t\tname: \"українська\"\r\n\t},\r\n\t{\r\n\t\tid: \"121\",\r\n\t\tname: \"ქართული\"\r\n\t},\r\n\t{\r\n\t\tid: \"122\",\r\n\t\tname: \"հայերեն\"\r\n\t},\r\n\t{\r\n\t\tid: \"123\",\r\n\t\tname: \"ייִדיש\"\r\n\t},\r\n\t{\r\n\t\tid: \"124\",\r\n\t\tname: \"עברית\"\r\n\t},\r\n\t{\r\n\t\tid: \"125\",\r\n\t\tname: \"ئۇيغۇرچە\"\r\n\t},\r\n\t{\r\n\t\tid: \"126\",\r\n\t\tname: \"اردو\"\r\n\t},\r\n\t{\r\n\t\tid: \"127\",\r\n\t\tname: \"پښتو\"\r\n\t},\r\n\t{\r\n\t\tid: \"128\",\r\n\t\tname: \"فارسی\"\r\n\t},\r\n\t{\r\n\t\tid: \"129\",\r\n\t\tname: \"کوردیی ناوەندی\"\r\n\t},\r\n\t{\r\n\t\tid: \"130\",\r\n\t\tname: \"ትግርኛ\"\r\n\t},\r\n\t{\r\n\t\tid: \"131\",\r\n\t\tname: \"አማርኛ\"\r\n\t},\r\n\t{\r\n\t\tid: \"132\",\r\n\t\tname: \"नेपाली\"\r\n\t},\r\n\t{\r\n\t\tid: \"133\",\r\n\t\tname: \"मराठी\"\r\n\t},\r\n\t{\r\n\t\tid: \"134\",\r\n\t\tname: \"हिन्दी\"\r\n\t},\r\n\t{\r\n\t\tid: \"135\",\r\n\t\tname: \"বাংলা\"\r\n\t},\r\n\t{\r\n\t\tid: \"136\",\r\n\t\tname: \"ਪੰਜਾਬੀ\"\r\n\t},\r\n\t{\r\n\t\tid: \"137\",\r\n\t\tname: \"ગુજરાતી\"\r\n\t},\r\n\t{\r\n\t\tid: \"138\",\r\n\t\tname: \"ଓଡ଼ିଆ\"\r\n\t},\r\n\t{\r\n\t\tid: \"139\",\r\n\t\tname: \"தமிழ்\"\r\n\t},\r\n\t{\r\n\t\tid: \"140\",\r\n\t\tname: \"తెలుగు\"\r\n\t},\r\n\t{\r\n\t\tid: \"141\",\r\n\t\tname: \"ಕನ್ನಡ\"\r\n\t},\r\n\t{\r\n\t\tid: \"142\",\r\n\t\tname: \"മലയാളം\"\r\n\t},\r\n\t{\r\n\t\tid: \"143\",\r\n\t\tname: \"සිංහල\"\r\n\t},\r\n\t{\r\n\t\tid: \"144\",\r\n\t\tname: \"ລາວ\"\r\n\t},\r\n\t{\r\n\t\tid: \"145\",\r\n\t\tname: \"မြန်မာ\"\r\n\t},\r\n\t{\r\n\t\tid: \"146\",\r\n\t\tname: \"ខ្មែរ\"\r\n\t},\r\n\t{\r\n\t\tid: \"147\",\r\n\t\tname: \"ᏣᎳᎩ\"\r\n\t}\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/languages-list.ts","import { AuthService } from \"./../../services/auth.service\";\r\nimport { Component, ViewChild } from \"@angular/core\";\r\n//import { NavController } from 'ionic-angular';\r\nimport { UserService } from \"../../services/services\";\r\nimport { User } from \"../../models/models\";\r\nimport { Slides } from \"ionic-angular\";\r\n\r\n@Component({\r\n\tselector: \"page-my-profile\",\r\n\ttemplateUrl: \"my-profile.html\"\r\n})\r\nexport class MyProfilePage {\r\n\tcurrentUser: User;\r\n\tcurrentTab = \"about\";\r\n\timage: any;\r\n\tphotos: any = [];\r\n\tbackGround: any;\r\n\tlanguages: any[];\r\n\tprofilePhoto: string;\r\n\r\n\t@ViewChild(Slides) slides: Slides;\r\n\r\n\tconstructor(\r\n\t\t//private navCtrl: NavController,\r\n\t\tprivate userSrvc: UserService,\r\n\t\tprivate authSrvc: AuthService\r\n\t) {\r\n\t\tthis.userSrvc\r\n\t\t\t.getCurrentUser()\r\n\t\t\t.take(2)\r\n\t\t\t.subscribe(\r\n\t\t\t\tresult => {\r\n\t\t\t\t\tthis.currentUser = result;\r\n\t\t\t\t},\r\n\t\t\t\terr => {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t//this.loader.dismiss();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\tconsole.log(\"current user in myProfilePage: \", this.currentUser);\r\n\t\tthis.profilePhoto = this.currentUser.profilePhoto.imgUrl;\r\n\t} /*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad MyProfilePage\");\r\n\t}\r\n\tupdateProfile() {\r\n\t\t//console.log('update profile with: ', this.currentUser);\r\n\t\tthis.userSrvc.updateUser(this.currentUser);\r\n\t}\r\n\tchangeTab(tab) {\r\n\t\tthis.currentTab = tab;\r\n\t\t//console.log('currentTab in my-profile: ', this.currentTab);\r\n\t}\r\n\taddImage() {\r\n\t\tthis.userSrvc.addImage(this.currentUser.id, this.image);\r\n\t\t//console.log(this.user.photos);\r\n\t}\r\n\tdeleteImage() {\r\n\t\tthis.userSrvc.deleteImage(this.currentUser.id, this.image);\r\n\t\t//console.log(this.user.photos);\r\n\t}\r\n\tchangeImage(image) {\r\n\t\tthis.image = image;\r\n\t}\r\n\tslideChanged() {\r\n\t\tlet currentIndex = this.slides.getActiveIndex();\r\n\t\tthis.image = this.currentUser.photos[currentIndex];\r\n\t\t//console.log('Current index, image, photos: ', currentIndex, this.currentImage, this.user.photos);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-profile/my-profile.ts","import { AuthService } from './../../services/auth.service';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport {VipService} from '../../services/services';\r\n\r\n/**\r\n * Generated class for the PurchasePage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-purchase',\r\n  templateUrl: 'purchase.html',\r\n})\r\nexport class PurchasePage {\r\n\tselected;\r\n  constructor(\r\n    private navCtrl: NavController,\r\n\t\tprivate navParams: NavParams,\r\n\t\tprivate authSrvc: AuthService,\r\n    private vipSrvc: VipService\r\n  ) { }\r\n  /*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n  select(btn){\r\n  \tthis.selected = btn;\r\n    console.log(btn);\r\n  }\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad PurchaseVipPage');\r\n  }\r\n  buyVIP(){\r\n    console.log(this.selected);\r\n    this.vipSrvc.buyVIP(this.selected);\r\n  }\r\n  back() {\r\n    this.navCtrl.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/purchase/purchase.ts","import { AuthService } from \"./../../services/auth.service\";\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController } from \"ionic-angular\";\r\nimport { LoginPage } from \"../pages\";\r\n\r\n@Component({\r\n\tselector: \"page-settings\",\r\n\ttemplateUrl: \"settings.html\"\r\n})\r\nexport class SettingsPage {\r\n\tlanguages: any[];\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tprivate authService: AuthService\r\n\t) {}\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad SettingsPage\");\r\n\t}\r\n\tlogout() {\r\n\t\t//add actual logging out and localStorage clearing\r\n\t\tthis.authService\r\n\t\t\t.logout()\r\n\t\t\t.then(() => this.navCtrl.setRoot(LoginPage))\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams } from \"ionic-angular\";\r\nimport {\r\n\tUserService,\r\n\tRequestService,\r\n\tContactService\r\n} from \"../../services/services\";\r\nimport { User, Contact } from \"../../models/models\";\r\nimport { UtilService } from \"../../shared/util.service\";\r\nimport { AlertController } from \"ionic-angular\";\r\nimport { ContactsListPage } from \"../contacts-list/contacts-list\";\r\n@Component({\r\n\tselector: \"page-user-profile\",\r\n\ttemplateUrl: \"user-profile.html\"\r\n})\r\nexport class UserProfilePage {\r\n\tuser: User;\r\n\tcurrentUser: User;\r\n\ttab: string = \"vote\";\r\n\tbackGround: any;\r\n\tanimateClass: any;\r\n\tfriend: boolean = false;\r\n\trequested: boolean = false;\r\n\tlikeAlertPresented: boolean = false;\r\n\tunlikeAlertPresented: boolean = false;\r\n\tblockAlertPresented: boolean = false;\r\n\tcontacts: Contact[] = [];\r\n\r\n\tconstructor(\r\n\t\tprivate navCtrl: NavController,\r\n\t\tprivate navParams: NavParams,\r\n\t\tprivate userSrvc: UserService,\r\n\t\tpublic contactSrvc: ContactService,\r\n\t\tprivate requestSrvc: RequestService,\r\n\t\tpublic alertCtrl: AlertController,\r\n\t\tprivate utilSrvc: UtilService\r\n\t) {\r\n\t\tthis.animateClass = { \"zoom-in\": true };\r\n\t}\r\n\tionViewDidLoad() {\r\n\t\t//console.log(this.navParams.data);\r\n\t\tthis.userSrvc\r\n\t\t\t.getCurrentUser()\r\n\t\t\t.take(2)\r\n\t\t\t.subscribe(curUsr => {\r\n\t\t\t\tlet id = this.navParams.get(\"user\");\r\n\t\t\t\tthis.currentUser = curUsr;\r\n\t\t\t\tthis.contactSrvc.getContacts(id).subscribe(contacts => {\r\n\t\t\t\t\tthis.contacts = contacts;\r\n\t\t\t\t});\r\n\t\t\t\tthis.userSrvc.getUserById(id).subscribe(\r\n\t\t\t\t\tuserInfo => {\r\n\t\t\t\t\t\tthis.user = userInfo;\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tthrow new Error(\"Error: \" + error); // throw an Error\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tthis.requestSrvc\r\n\t\t\t\t\t.hasLiked(this.currentUser.id, id)\r\n\t\t\t\t\t.then(val => (this.requested = val));\r\n\t\t\t\tthis.contactSrvc\r\n\t\t\t\t\t.isFriend(this.currentUser.id, id)\r\n\t\t\t\t\t.then(val => (this.friend = val));\r\n\t\t\t});\r\n\t}\r\n\tchangeImage(image) {\r\n\t\tconsole.log(\"changeImage called, but needs to be implements\");\r\n\t}\r\n\tgetHeight(tab) {\r\n\t\tvar height = \"\";\r\n\t\tif (tab == \"vote\") height = \"hidden\";\r\n\t\treturn height;\r\n\t}\r\n\tremoveFriend() {\r\n\t\tthis.contactSrvc\r\n\t\t\t.removeFriend(this.currentUser.id, this.user.id)\r\n\t\t\t.then(() => this.navCtrl.setRoot(ContactsListPage))\r\n\t\t\t.catch(err => console.error(err));\r\n\t}\r\n\tlike(id: string) {\r\n\t\tif (!this.likeAlertPresented) {\r\n\t\t\t// alert\r\n\t\t\tconst alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: \"Confirm Request\",\r\n\t\t\t\tmessage: \"Do you want to add this person to contacts?\",\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Cancel clicked\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Send Request\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Send Request clicked\");\r\n\t\t\t\t\t\t\tthis.requestSrvc\r\n\t\t\t\t\t\t\t\t.sendRequest(this.currentUser, this.user)\r\n\t\t\t\t\t\t\t\t.then(() => (this.requested = true))\r\n\t\t\t\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\talert.present();\r\n\t\t\tthis.likeAlertPresented = true;\r\n\t\t} else {\r\n\t\t\tthis.requestSrvc.sendRequest(this.currentUser, this.user);\r\n\t\t}\r\n\t}\r\n\tunlike() {\r\n\t\tthis.requestSrvc\r\n\t\t\t.cancelRequest(this.currentUser.id, this.user.id)\r\n\t\t\t.then(() => (this.requested = false))\r\n\t\t\t.catch(err => console.error(err));\r\n\t}\r\n\tblock() {\r\n\t\tif (!this.blockAlertPresented) {\r\n\t\t\tconst alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: \"Confirm Block\",\r\n\t\t\t\tmessage:\r\n\t\t\t\t\t\"Do you want to block this contact? You won't be placed in the same room with them again.\",\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Cancel clicked\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Block\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Block clicked\");\r\n\t\t\t\t\t\t\tthis.requestSrvc\r\n\t\t\t\t\t\t\t\t.block(this.currentUser, this.user)\r\n\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\tthis.navCtrl.pop();\r\n\t\t\t\t\t\t\t\t\t// TO DO - kick the user out and tell him he has been - should be done on backend\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\talert.present();\r\n\t\t\tthis.blockAlertPresented = true;\r\n\t\t} else {\r\n\t\t\tthis.requestSrvc\r\n\t\t\t\t.block(this.currentUser, this.user)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\t// TO DO - kick the user out and tell him he has been\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.error(err));\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-profile/user-profile.ts","import { Component } from \"@angular/core\";\r\nimport { NavController } from \"ionic-angular\";\r\nimport { PurchasePage } from \"../purchase/purchase\";\r\nimport { VipService } from \"../../services/services\";\r\nimport { UtilService } from \"../../shared/util.service\";\r\nimport { AlertController } from \"ionic-angular\";\r\n\r\n/**\r\n * Generated class for the VIP page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@Component({\r\n\tselector: \"page-vip\",\r\n\ttemplateUrl: \"vip.html\"\r\n})\r\nexport class VIPPage {\r\n\tpurchaseSelected: boolean = false;\r\n\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tpublic vipSrvc: VipService,\r\n\t\tprivate alertCtrl: AlertController,\r\n\t\tprivate utilSrvc: UtilService\r\n\t) {}\r\n\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad VIPPage\");\r\n\t}\r\n\tselect(option: string) {\r\n\t\tconsole.log(\"select clicked withthe option:\", option);\r\n\t}\r\n\twatchAd() {\r\n\t\tthis.utilSrvc.presentFakedoorAlert(\"watchAd\");\r\n\t\t//this.vipSrvc.presentAd();\r\n\t}\r\n\tinvite() {\r\n\t\tthis.utilSrvc.presentFakedoorAlert(\"invite\");\r\n\t\t//this.vipSrvc.inviteFriend();\r\n\t\t//this.facebook.appInvite({applink, photoUrl});\r\n\t}\r\n\tviewPurchasePage() {\r\n\t\tthis.utilSrvc.presentFakedoorAlert(\"viewPurchasePage\");\r\n\t\t//this.navCtrl.push(PurchasePage);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vip/vip.ts","export * from './back-button/back-button';\r\nexport * from './chat-bubble/chat-bubble';\r\nexport * from './gallery/gallery';\r\nexport * from './menu-button/menu-button';\r\nexport * from './profile-posts/profile-posts';\r\nexport * from './profile-timeline/profile-timeline';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.ts","import { UserService } from \"./../../services/user.service\";\r\nimport { Component } from \"@angular/core\";\r\nimport {\r\n\tNavController,\r\n\tLoadingController,\r\n\tApp,\r\n\tNavParams\r\n} from \"ionic-angular\";\r\nimport { FilterPage } from \"../pages\";\r\nimport { VIPPage } from \"../pages\";\r\nimport { ChatroomPage } from \"../pages\";\r\nimport { ChatroomService } from \"../../services/services\";\r\n@Component({\r\n\tselector: \"page-waitlist\",\r\n\ttemplateUrl: \"waitlist.html\"\r\n})\r\nexport class WaitlistPage {\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tpublic loadingCtrl: LoadingController,\r\n\t\tpublic chatroomSrvc: ChatroomService,\r\n\t\tpublic navParams: NavParams,\r\n\t\tpublic userSrvc: UserService,\r\n\t\tpublic app: App\r\n\t) {}\r\n\tionViewDidLoad() {\r\n\t\tconsole.log(\"ionViewDidLoad MeetSomebodyPage\");\r\n\t}\r\n\tionViewDidEnter() {\r\n\t\t// get location property\r\n\t\t// TO DO\r\n\t\tlet location = this.navParams.get(\"location\");\r\n\t\t// get languages property\r\n\t\tlet languages = this.navParams.get(\"languages\");\r\n\t\t// join a chatroom\r\n\t\tthis.userSrvc\r\n\t\t\t.getCurrentUser()\r\n\t\t\t.take(2)\r\n\t\t\t.subscribe(user => {\r\n\t\t\t\tthis.chatroomSrvc\r\n\t\t\t\t\t.joinChatroom(location, languages)\r\n\t\t\t\t\t.subscribe(chatroomId => {\r\n\t\t\t\t\t\tlet view = this.navCtrl.getActive();\r\n\t\t\t\t\t\tif (view.component.name === \"WaitlistPage\") {\r\n\t\t\t\t\t\t\tthis.goToChatroom(chatroomId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tviewVIP() {\r\n\t\tthis.navCtrl.push(VIPPage);\r\n\t}\r\n\t// view notifications\r\n\tviewFilter() {\r\n\t\tthis.app.getRootNav().push(FilterPage);\r\n\t}\r\n\tgoToChatroom(chatroomId: string) {\r\n\t\tthis.navCtrl.push(ChatroomPage, {\r\n\t\t\troom: `${chatroomId}`,\r\n\t\t\tprivateConversation: false\r\n\t\t});\r\n\t}\r\n\tback() {\r\n\t\tthis.navCtrl.pop();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/waitlist/waitlist.ts","import { AuthService } from \"./../../services/auth.service\";\r\nimport { Component } from \"@angular/core\";\r\nimport { NavController, NavParams } from \"ionic-angular\";\r\nimport { UserProfilePage } from \"../pages\";\r\nimport { UserService } from \"../../services/services\";\r\n\r\n@Component({\r\n\tselector: \"page-participants-list\",\r\n\ttemplateUrl: \"participants-list.html\",\r\n\tproviders: [UserService]\r\n})\r\nexport class ParticipantsListPage {\r\n\tparticipants = [];\r\n\tanimateClass: any;\r\n\tusers;\r\n\r\n\tconstructor(\r\n\t\tprivate navCtrl: NavController,\r\n\t\tprivate navParams: NavParams,\r\n\t\tprivate authSrvc: AuthService\r\n\t) {\r\n\t\tthis.animateClass = { \"zoom-in\": true };\r\n\t}\r\n\t/*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n\tionViewDidLoad() {\r\n\t\t//this.navParams.data - get users from navparams instead of loading from backend\r\n\t\tvar env = this;\r\n\t\tthis.users = this.navParams.get(\"participants\");\r\n\t\tconsole.log(\"users: \", this.users);\r\n\t\tfor (let i = 0; i < this.users.length; i++) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tenv.participants.push(env.users[i]);\r\n\t\t\t}, 100 * i);\r\n\t\t}\r\n\t}\r\n\tgoToUser(id) {\r\n\t\tthis.navCtrl.push(UserProfilePage, { user: id });\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/participants-list/participants-list.ts","import { Component } from \"@angular/core\";\r\nimport { NavController } from \"ionic-angular\";\r\nimport { UserService, NotificationService } from \"../../services/services\";\r\nimport { User, Notification } from \"../../models/models\";\r\nimport * as moment from \"moment\";\r\n\r\n@Component({\r\n\tselector: \"page-notifications-list\",\r\n\ttemplateUrl: \"notifications-list.html\"\r\n})\r\nexport class NotificationsListPage {\r\n\tnotifications: Notification[] = [];\r\n\tanimateClass: any;\r\n\tcurrentUser: User;\r\n\r\n\tconstructor(\r\n\t\tprivate navCtrl: NavController,\r\n\t\tprivate userSrvc: UserService,\r\n\t\tprivate notificationSrvc: NotificationService\r\n\t) {\r\n\t\tconsole.log(\"NotificationsListPage initialized\");\r\n\t\tthis.animateClass = { \"zoom-in\": true };\r\n\t} /*\r\n\tionViewCanEnter() {\r\n\t\treturn this.authSrvc.isLoggedIn();\r\n\t}*/\r\n\tionViewWillEnter() {}\r\n\tngAfterViewInit() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tlet env = this;\r\n\t\t\tthis.userSrvc\r\n\t\t\t\t.getCurrentUser()\r\n\t\t\t\t.take(2)\r\n\t\t\t\t.subscribe(user => {\r\n\t\t\t\t\tthis.currentUser = user;\r\n\t\t\t\t\tthis.notificationSrvc\r\n\t\t\t\t\t\t.getNotifications(user.id)\r\n\t\t\t\t\t\t.subscribe(notifications => {\r\n\t\t\t\t\t\t\tlet res = notifications.sort((first, second) => {\r\n\t\t\t\t\t\t\t\treturn moment(second.createdAt).diff(moment(first.createdAt));\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tenv.notifications.push(res[i]);\r\n\t\t\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\t\t\"notifications in notificationsList: \",\r\n\t\t\t\t\t\t\t\t\t\tenv.notifications\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}, 100 * i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\tdoInfinite(infiniteScroll) {\r\n\t\t//Begin async operation\r\n\t\tthis.ngAfterViewInit()\r\n\t\t\t.then(() => {\r\n\t\t\t\tinfiniteScroll.complete();\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notifications-list/notifications-list.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams } from \"ionic-angular\";\r\nimport { UserService } from \"../../services/services\";\r\nimport { UserProfilePage } from \"../pages\";\r\nimport { RequestService, AlertService } from \"../../services/services\";\r\nimport { User, Request } from \"../../models/models\";\r\nimport { AlertController } from \"ionic-angular\";\r\nimport * as moment from \"moment\";\r\n\r\n@Component({\r\n\tselector: \"page-requests-list\",\r\n\ttemplateUrl: \"requests-list.html\"\r\n})\r\nexport class RequestsListPage {\r\n\tanimateClass: any;\r\n\tcurrentUser: User;\r\n\tlikeAlertPresented: boolean = false;\r\n\tunlikeAlertPresented: boolean = false;\r\n\tblockAlertPresented: boolean = false;\r\n\tunblockAlertPresented: boolean = false;\r\n\tblockedListVisible: boolean = false;\r\n\tsentListVisible: boolean = false;\r\n\tblockedList: Request[] = [];\r\n\tpublic requestsSent: Request[] = [];\r\n\tpublic requestsReceived: Request[] = [];\r\n\r\n\tconstructor(\r\n\t\tpublic navCtrl: NavController,\r\n\t\tprivate requestsSrvc: RequestService,\r\n\t\tprivate userSrvc: UserService,\r\n\t\tprivate alertSrvc: AlertService,\r\n\t\tpublic alertCtrl: AlertController\r\n\t) {\r\n\t\tconsole.log(\"RequestsListPage initialized\");\r\n\t\tthis.animateClass = { \"zoom-in\": true };\r\n\t}\r\n\tionViewWillEnter() {}\r\n\tngAfterViewInit() {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tthis.userSrvc\r\n\t\t\t\t.getCurrentUser()\r\n\t\t\t\t.take(2)\r\n\t\t\t\t.subscribe(user => {\r\n\t\t\t\t\tthis.currentUser = user;\r\n\t\t\t\t\tthis.requestsSrvc.getReceivedRequests(this.currentUser.id).subscribe(\r\n\t\t\t\t\t\treqs => {\r\n\t\t\t\t\t\t\tthis.requestsReceived = reqs;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.requestsSrvc.getSentRequests(this.currentUser.id).subscribe(\r\n\t\t\t\t\t\treqs => {\r\n\t\t\t\t\t\t\tthis.requestsSent = reqs;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.requestsSrvc.getBlockedRequests(this.currentUser.id).subscribe(\r\n\t\t\t\t\t\treqs => {\r\n\t\t\t\t\t\t\tthis.blockedList = reqs;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\t/*// make sure the requests are seen\r\n\t\t\t\t\tfor (let i = 0; i < this.requests.length; i++) {\r\n\t\t\t\t\t\tthis.requestsSrvc.updateRequestSeen(\r\n\t\t\t\t\t\t\tthis.requests[i].id,\r\n\t\t\t\t\t\t\tthis.currentUser.id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}*/\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\tdoInfinite(infiniteScroll) {\r\n\t\t//Begin async operation\r\n\t\tthis.ngAfterViewInit()\r\n\t\t\t.then(() => {\r\n\t\t\t\tinfiniteScroll.complete();\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(\"Error:\", err);\r\n\t\t\t});\r\n\t}\r\n\ttoggleBlockListVisibility() {\r\n\t\tconsole.log(\"toggled BlockListVisibility: \", this.blockedList);\r\n\t\tthis.blockedListVisible != this.blockedListVisible;\r\n\t}\r\n\ttoggleSentListVisibility() {\r\n\t\tconsole.log(\"toggled SentListVisibility: \", this.requestsSent);\r\n\t\tthis.sentListVisible != this.sentListVisible;\r\n\t}\r\n\tgoToUser(id) {\r\n\t\tthis.navCtrl.push(UserProfilePage, { user: id });\r\n\t}\r\n\taccept(request: Request) {\r\n\t\t// alert\r\n\t\tconst alert = this.alertCtrl.create({\r\n\t\t\ttitle: \"Confirm Like\",\r\n\t\t\tmessage: \"Do you want to add this person to contacts?\",\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\tconsole.log(\"Cancel clicked\");\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Accept\",\r\n\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\tthis.alertSrvc.showAlert(\"Friend request accepted\", \"OK\");\r\n\t\t\t\t\t\tthis.requestsSrvc.acceptFriendRequest(this.currentUser, request);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\talert.present();\r\n\t}\r\n\t// should remove request from requests list, while keeping it as pending in the other person\r\n\treject(request: Request) {\r\n\t\t// check if it's just a request or a friendship\r\n\t\tconst alert = this.alertCtrl.create({\r\n\t\t\ttitle: \"Confirm Like\",\r\n\t\t\tmessage:\r\n\t\t\t\t\"Do you want to refuse friend request? Don't worry we won't tell.\",\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\tconsole.log(\"Cancel clicked\");\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: \"Remove\",\r\n\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\tthis.alertSrvc.showAlert(\"Friend request removed\", \"OK\");\r\n\t\t\t\t\t\tthis.requestsSrvc.rejectRequest(\r\n\t\t\t\t\t\t\tthis.currentUser.id,\r\n\t\t\t\t\t\t\trequest.sender.id\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\talert.present();\r\n\t}\r\n\tremoveRequest(request: Request) {\r\n\t\tthis.requestsSrvc\r\n\t\t\t.cancelRequest(this.currentUser.id, request.recipient.id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.alertSrvc.showAlert(\"Friend request removed\", \"OK\");\r\n\t\t\t});\r\n\t}\r\n\tunblock(request: Request) {\r\n\t\tlet id = request.sender.id;\r\n\t\tif (!this.unblockAlertPresented) {\r\n\t\t\t// alert\r\n\t\t\t// check if it's just a request or a friendship\r\n\t\t\tconst alert = this.alertCtrl.create({\r\n\t\t\t\ttitle: \"Confirm Unblock\",\r\n\t\t\t\tmessage: \"Do you want to unblock this user?\",\r\n\t\t\t\tbuttons: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Cancel\",\r\n\t\t\t\t\t\trole: \"cancel\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tconsole.log(\"Cancel clicked\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: \"Unblock\",\r\n\t\t\t\t\t\thandler: () => {\r\n\t\t\t\t\t\t\tthis.alertSrvc.showAlert(\"Unblocked\", \"OK\");\r\n\t\t\t\t\t\t\tthis.requestsSrvc.unblock(this.currentUser.id, id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\talert.present();\r\n\t\t\tthis.unlikeAlertPresented = true;\r\n\t\t} else {\r\n\t\t\tthis.requestsSrvc.unblock(this.currentUser.id, id);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/requests-list/requests-list.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n/*\r\n  Generated class for the ChatBubble component.\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'back-button',\r\n  templateUrl: 'back-button.html'\r\n})\r\nexport class BackButtonComponent {\r\n    constructor(\r\n        private navCtrl: NavController\r\n    ){}\r\n    back() {\r\n      this.navCtrl.pop();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/back-button/back-button.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n/*\r\n  Generated class for the ChatBubble component.\r\n\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'chat-bubble',\r\n  templateUrl: 'chat-bubble.html'\r\n})\r\nexport class ChatBubbleComponent {\r\n    @Input() message: any= {};\r\n    @Output() select = new EventEmitter<any>();\r\n\r\n    goToUser(id){\r\n      this.select.emit(id);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/chat-bubble/chat-bubble.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n/*\r\n  Generated class for the Gallery component.\r\n\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'gallery',\r\n  templateUrl: 'gallery.html'\r\n})\r\nexport class GalleryComponent {\r\n\r\n  @Input() data: any;\r\n\r\n  @Output()\r\n  change: EventEmitter<number> = new EventEmitter<number>();\r\n  image: any;\r\n  animateClass: any;\r\n\r\n  constructor() {\r\n      this.animateClass = { 'zoom-in': true };\r\n  }\r\n\r\n  changeImage(image){\r\n    this.image = image;\r\n    this.change.emit(this.image);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/gallery/gallery.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\n\r\n/*\r\n  Generated class for the ChatBubble component.\r\n\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'menu-button',\r\n  templateUrl: 'menu-button.html'\r\n})\r\nexport class MenuButtonComponent {\r\n    constructor(    \r\n        public navCtrl: NavController\r\n    ){}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/menu-button/menu-button.ts","import { Component } from '@angular/core';\r\n\r\n/*\r\n  Generated class for the ProfilePosts component.\r\n\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'profile-posts',\r\n  templateUrl: 'profile-posts.html'\r\n})\r\nexport class ProfilePostsComponent {\r\n    animateClass: any;\r\n  constructor() {\r\n        this.animateClass = { 'zoom-in': true };\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile-posts/profile-posts.ts","import { Component, Input } from '@angular/core';\r\nimport { User } from '../../models/models';\r\n/*\r\n  Generated class for the ProfileTimeline component.\r\n\r\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\r\n  for more info on Angular 2 Components.\r\n*/\r\n@Component({\r\n  selector: 'profile-timeline',\r\n  templateUrl: 'profile-timeline.html'\r\n})\r\nexport class ProfileTimelineComponent {\r\n  @Input() user: User;\r\n  @Input() currentUser: User;\r\n\r\n    animateClass: any;\r\n  constructor() {\r\n    this.animateClass = { 'zoom-in': true };\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/profile-timeline/profile-timeline.ts","export * from \"./chatroom.model\";\r\nexport * from \"./user.model\";\r\nexport * from \"./message.model\";\r\nexport * from \"./notification.model\";\r\nexport * from \"./request.model\";\r\nexport * from \"./contact.model\";\r\nexport * from \"./sender.model\";\r\nexport * from \"./recipient.model\";\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/models.ts","import { Message } from \"./models\";\r\nimport { Language } from \"./models\";\r\n\r\nexport interface Participant {\r\n\tid: string;\r\n\tfirstName: string;\r\n\tlastName: string;\r\n\timgUrl: string;\r\n\tvotes?: number;\r\n}\r\n\r\nexport class Chatroom {\r\n\tconstructor(\r\n\t\tpublic id: string,\r\n\t\tpublic participants: Participant[],\r\n\t\tpublic messages?: Message[],\r\n\t\tpublic language?: Language,\r\n\t\tpublic blocked?: Participant[],\r\n\t\tpublic warnings?: Participant[]\r\n\t) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/chatroom.model.ts","interface VipStatus {\r\n\tvip: boolean;\r\n\texpiryDate: Date;\r\n\tdateAdded: Date;\r\n\ttype: string;\r\n}\r\nexport interface Photo {\r\n\timgUrl: string;\r\n}\r\nexport interface Language {\r\n\tid: string;\r\n\tname: string;\r\n}\r\ninterface Interest {\r\n\tid: string;\r\n\tname: string;\r\n\timgUrl?: string;\r\n}\r\ninterface SocialProfile {\r\n\tnetworkName: string;\r\n\tid: string;\r\n}\r\n\r\nexport class User {\r\n\tconstructor(\r\n\t\tpublic about: string,\r\n\t\tpublic birthday: string,\r\n\t\tpublic currentCoords: number[],\r\n\t\tpublic email: string,\r\n\t\tpublic firstName: string,\r\n\t\tpublic gender: string,\r\n\t\tpublic id: string,\r\n\t\tpublic languages: Language[],\r\n\t\tpublic lastName: string,\r\n\t\tpublic company?: string,\r\n\t\tpublic currentLocation?: string,\r\n\t\tpublic interests?: Interest[],\r\n\t\tpublic photos?: Photo[],\r\n\t\tpublic profession?: string,\r\n\t\tpublic profilePhoto?: Photo,\r\n\t\tpublic relationshipStatus?: string,\r\n\t\tpublic reputationScore?: number,\r\n\t\tpublic socialProfiles?: SocialProfile[],\r\n\t\tpublic universityName?: string,\r\n\t\tpublic vipStatus?: VipStatus,\r\n\t\tpublic warning?: string\r\n\t) {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.ts","import{ Sender } from './models';\r\n\r\nexport class Message {\r\n\tcontent: string;\r\n\tcreatedAt: string;\r\n\tid: string;\r\n\troomId: string;\r\n\tsender: Sender;\r\n\tseen: Array<string>;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/message.model.ts","export class Notification {\r\n\tcontent: string;\r\n\tcreatedAt: string;\r\n\tid: string;\r\n\tsenderId: string;\r\n\tseen: Array<string>;\r\n\troomId?: string;\r\n\tsenderName?: string;\r\n\tsenderImage?: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/notification.model.ts","import { Sender, Recipient } from \"./models\";\r\n\r\nexport class Request {\r\n\tcreatedAt: string;\r\n\tseen: Array<string>;\r\n\tsender: Sender;\r\n\trecipient: Recipient;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/request.model.ts","import { Directive, Input } from \"@angular/core\";\r\n\r\n@Directive({\r\n\tselector: \"img[default]\",\r\n\thost: {\r\n\t\t\"[src]\": \"checkPath(src)\",\r\n\t\t\"(error)\": \"updateUrl()\"\r\n\t}\r\n})\r\nexport class DefaultImageDirective {\r\n\t@Input() src: string;\r\n\tdefault: string = \"assets/images/other-assets/profile.png\";\r\n\r\n\tpublic updateUrl() {\r\n\t\treturn this.default;\r\n\t}\r\n\tpublic checkPath(src) {\r\n\t\treturn src ? src : this.default;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/default-image.directive.ts","import { NgModule } from '@angular/core';\r\nimport { CalculateDistancePipe } from './calculate-distance.pipe';\r\nimport {AgePipe} from './age.pipe';\r\n @NgModule({\r\n     imports:        [],\r\n     declarations:   [CalculateDistancePipe, AgePipe],\r\n     exports:        [CalculateDistancePipe, AgePipe],\r\n })\r\n\r\n export class PipeModule {\r\n\r\n   static forRoot() {\r\n      return {\r\n          ngModule: PipeModule,\r\n          providers: [],\r\n      };\r\n   }\r\n }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/pipe.module.ts","import {Pipe, PipeTransform} from \"@angular/core\";\r\n\r\n@Pipe({name: 'calculateDistance'})\r\nexport class CalculateDistancePipe implements PipeTransform {\r\n\r\n    transform(userCoords: number[], currentUserCoords: number[]) {\r\n        return this.calculate(currentUserCoords[0], currentUserCoords[1], userCoords[0], userCoords[1]);\r\n    }\r\n    calculate(lat1: number, lon1: number, lat2: number, lon2: number) {\r\n      var p = 0.017453292519943295;    // Math.PI / 180\r\n      var c = Math.cos;\r\n      var a = 0.5 - c((lat2 - lat1) * p)/2 +\r\n              c(lat1 * p) * c(lat2 * p) *\r\n              (1 - c((lon2 - lon1) * p))/2;\r\n\r\n      return Math.round(12742 * Math.asin(Math.sqrt(a))); // 2 * R; R = 6371 km\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/calculate-distance.pipe.ts","import { Pipe, PipeTransform } from \"@angular/core\";\r\nimport * as moment from \"moment\";\r\n@Pipe({\r\n\tname: \"age\"\r\n})\r\nexport class AgePipe implements PipeTransform {\r\n\ttransform(value: string): string {\r\n\t\tlet transformedVal = value.slice().replace(\"/\", \"-\");\r\n\t\tlet today = moment();\r\n\t\tlet birthdate = moment(transformedVal, \"MM-DD-YYYY\");\r\n\t\tlet years = today.diff(birthdate, \"years\");\r\n\t\treturn years.toString();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/age.pipe.ts","export namespace Environment {\r\n\t// Set your app configurations here.\r\n\t// For the list of config options, please refer to https://ionicframework.com/docs/api/config/Config/\r\n\texport const config = {\r\n\t\tmode: \"ios\", //App's style is custom-designed based on iOS style, removing or changing this WILL MAKE THE APP LOOK BAD.\r\n\t\tmenuType: \"overlay\"\r\n\t};\r\n\t// Set language to use.\r\n\texport const language = \"en\";\r\n\t// Firebase Cloud Messaging Server Key.\r\n\t// Get your gcmKey on https://console.firebase.google.com, under Overview -> Project Settings -> Cloud Messaging.\r\n\t// This is needed to send push notifications.\r\n\texport const gcmKey =\r\n\t\t\"AAAAW63DFKs:APA91bG3cNKXAIXte89kelXUmvt08lkCeUcSxyKNXHf90jNoc4nyCnzr8VMFXtmwzEi4OS4LNFmC5sT6g-VSKDIn8t5FJt3D3pDkkK3Ckc4Uy-Z2I5wwMx1XpM5Pm65UiOjXS_xfyR1d\";\r\n\t// Set to your Firebase app, you can find your credentials on Firebase app console -> Add Web App.\r\n\texport const firebase = {\r\n\t\tapiKey: \"AIzaSyDI22hmtv2clf3WYdo2y04z_h-eCfbv_F4\",\r\n\t\tauthDomain: \"huggable-9e981.firebaseapp.com\",\r\n\t\tdatabaseURL: \"https://huggable-9e981.firebaseio.com\",\r\n\t\tprojectId: \"huggable-9e981\",\r\n\t\tstorageBucket: \"huggable-9e981.appspot.com\",\r\n\t\tmessagingSenderId: \"272489685620\"\r\n\t};\r\n\t// You can find your googleWebClientId on your Firebase app console -> Authentication -> Sign-in Method -> Google -> Web client ID\r\n\texport const googleWebClientId: string =\r\n\t\t\"272489685620-8mgrbcfgbbgaj0jt80tentihikle7e97.apps.googleusercontent.com\";\r\n\t// Loading Configuration.\r\n\t// Please refer to the official Loading documentation here: https://ionicframework.com/docs/api/components/loading/LoadingController/\r\n\texport const loading = {\r\n\t\tspinner: \"circles\"\r\n\t};\r\n\t// Toast Configuration.\r\n\t// Please refer to the official Toast documentation here: https://ionicframework.com/docs/api/components/toast/ToastController/\r\n\texport const toast = {\r\n\t\tposition: \"bottom\" // Position of Toast, top, middle, or bottom.\r\n\t};\r\n\texport const toastDuration = 5000; // Duration (in milliseconds) of how long toast messages should show before they are hidden.\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environment/environment.ts"],"sourceRoot":""}